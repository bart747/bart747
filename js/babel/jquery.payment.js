'use strict';

function _typeof(obj) { return obj && typeof Symbol !== "undefined" && obj.constructor === Symbol ? "symbol" : typeof obj; }

var $,
    cardFromNumber,
    cardFromType,
    cards,
    defaultFormat,
    formatBackCardNumber,
    formatBackExpiry,
    formatCardNumber,
    formatExpiry,
    formatForwardExpiry,
    formatForwardSlashAndSpace,
    hasTextSelected,
    luhnCheck,
    reFormatCVC,
    reFormatCardNumber,
    reFormatExpiry,
    reFormatNumeric,
    replaceFullWidthChars,
    restrictCVC,
    restrictCardNumber,
    restrictExpiry,
    restrictNumeric,
    safeVal,
    setCardType,
    slice = [].slice,
    indexOf = [].indexOf || function (item) {
  for (var i = 0, l = this.length; i < l; i++) {
    if (i in this && this[i] === item) return i;
  }return -1;
};

$ = window.jQuery || window.Zepto || window.$;

$.payment = {};

$.payment.fn = {};

$.fn.payment = function () {
  var args, method;
  method = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
  return $.payment.fn[method].apply(this, args);
};

defaultFormat = /(\d{1,4})/g;

$.payment.cards = cards = [{
  type: 'visaelectron',
  patterns: [4026, 417500, 4405, 4508, 4844, 4913, 4917],
  format: defaultFormat,
  length: [16],
  cvcLength: [3],
  luhn: true
}, {
  type: 'maestro',
  patterns: [5018, 502, 503, 56, 58, 639, 6220, 67],
  format: defaultFormat,
  length: [12, 13, 14, 15, 16, 17, 18, 19],
  cvcLength: [3],
  luhn: true
}, {
  type: 'forbrugsforeningen',
  patterns: [600],
  format: defaultFormat,
  length: [16],
  cvcLength: [3],
  luhn: true
}, {
  type: 'dankort',
  patterns: [5019],
  format: defaultFormat,
  length: [16],
  cvcLength: [3],
  luhn: true
}, {
  type: 'visa',
  patterns: [4],
  format: defaultFormat,
  length: [13, 16],
  cvcLength: [3],
  luhn: true
}, {
  type: 'mastercard',
  patterns: [51, 52, 53, 54, 55, 22, 23, 24, 25, 26, 27],
  format: defaultFormat,
  length: [16],
  cvcLength: [3],
  luhn: true
}, {
  type: 'amex',
  patterns: [34, 37],
  format: /(\d{1,4})(\d{1,6})?(\d{1,5})?/,
  length: [15],
  cvcLength: [3, 4],
  luhn: true
}, {
  type: 'dinersclub',
  patterns: [30, 36, 38, 39],
  format: /(\d{1,4})(\d{1,6})?(\d{1,4})?/,
  length: [14],
  cvcLength: [3],
  luhn: true
}, {
  type: 'discover',
  patterns: [60, 64, 65, 622],
  format: defaultFormat,
  length: [16],
  cvcLength: [3],
  luhn: true
}, {
  type: 'unionpay',
  patterns: [62, 88],
  format: defaultFormat,
  length: [16, 17, 18, 19],
  cvcLength: [3],
  luhn: false
}, {
  type: 'jcb',
  patterns: [35],
  format: defaultFormat,
  length: [16],
  cvcLength: [3],
  luhn: true
}];

cardFromNumber = function (num) {
  var card, i, j, len, len1, p, pattern, ref;
  num = (num + '').replace(/\D/g, '');
  for (i = 0, len = cards.length; i < len; i++) {
    card = cards[i];
    ref = card.patterns;
    for (j = 0, len1 = ref.length; j < len1; j++) {
      pattern = ref[j];
      p = pattern + '';
      if (num.substr(0, p.length) === p) {
        return card;
      }
    }
  }
};

cardFromType = function (type) {
  var card, i, len;
  for (i = 0, len = cards.length; i < len; i++) {
    card = cards[i];
    if (card.type === type) {
      return card;
    }
  }
};

luhnCheck = function (num) {
  var digit, digits, i, len, odd, sum;
  odd = true;
  sum = 0;
  digits = (num + '').split('').reverse();
  for (i = 0, len = digits.length; i < len; i++) {
    digit = digits[i];
    digit = parseInt(digit, 10);
    if (odd = !odd) {
      digit *= 2;
    }
    if (digit > 9) {
      digit -= 9;
    }
    sum += digit;
  }
  return sum % 10 === 0;
};

hasTextSelected = function ($target) {
  var ref;
  if ($target.prop('selectionStart') != null && $target.prop('selectionStart') !== $target.prop('selectionEnd')) {
    return true;
  }
  if ((typeof document !== "undefined" && document !== null ? (ref = document.selection) != null ? ref.createRange : void 0 : void 0) != null) {
    if (document.selection.createRange().text) {
      return true;
    }
  }
  return false;
};

safeVal = function (value, $target) {
  var cursor, error, last;
  try {
    cursor = $target.prop('selectionStart');
  } catch (_error) {
    error = _error;
    cursor = null;
  }
  last = $target.val();
  $target.val(value);
  if (cursor !== null && $target.is(":focus")) {
    if (cursor === last.length) {
      cursor = value.length;
    }
    $target.prop('selectionStart', cursor);
    return $target.prop('selectionEnd', cursor);
  }
};

replaceFullWidthChars = function (str) {
  var chars, chr, fullWidth, halfWidth, i, idx, len, value;
  if (str == null) {
    str = '';
  }
  fullWidth = '０１２３４５６７８９';
  halfWidth = '0123456789';
  value = '';
  chars = str.split('');
  for (i = 0, len = chars.length; i < len; i++) {
    chr = chars[i];
    idx = fullWidth.indexOf(chr);
    if (idx > -1) {
      chr = halfWidth[idx];
    }
    value += chr;
  }
  return value;
};

reFormatNumeric = function (e) {
  return setTimeout(function () {
    var $target, value;
    $target = $(e.currentTarget);
    value = $target.val();
    value = replaceFullWidthChars(value);
    value = value.replace(/\D/g, '');
    return safeVal(value, $target);
  });
};

reFormatCardNumber = function (e) {
  return setTimeout(function () {
    var $target, value;
    $target = $(e.currentTarget);
    value = $target.val();
    value = replaceFullWidthChars(value);
    value = $.payment.formatCardNumber(value);
    return safeVal(value, $target);
  });
};

formatCardNumber = function (e) {
  var $target, card, digit, length, re, upperLength, value;
  digit = String.fromCharCode(e.which);
  if (!/^\d+$/.test(digit)) {
    return;
  }
  $target = $(e.currentTarget);
  value = $target.val();
  card = cardFromNumber(value + digit);
  length = (value.replace(/\D/g, '') + digit).length;
  upperLength = 16;
  if (card) {
    upperLength = card.length[card.length.length - 1];
  }
  if (length >= upperLength) {
    return;
  }
  if ($target.prop('selectionStart') != null && $target.prop('selectionStart') !== value.length) {
    return;
  }
  if (card && card.type === 'amex') {
    re = /^(\d{4}|\d{4}\s\d{6})$/;
  } else {
    re = /(?:^|\s)(\d{4})$/;
  }
  if (re.test(value)) {
    e.preventDefault();
    return setTimeout(function () {
      return $target.val(value + ' ' + digit);
    });
  } else if (re.test(value + digit)) {
    e.preventDefault();
    return setTimeout(function () {
      return $target.val(value + digit + ' ');
    });
  }
};

formatBackCardNumber = function (e) {
  var $target, value;
  $target = $(e.currentTarget);
  value = $target.val();
  if (e.which !== 8) {
    return;
  }
  if ($target.prop('selectionStart') != null && $target.prop('selectionStart') !== value.length) {
    return;
  }
  if (/\d\s$/.test(value)) {
    e.preventDefault();
    return setTimeout(function () {
      return $target.val(value.replace(/\d\s$/, ''));
    });
  } else if (/\s\d?$/.test(value)) {
    e.preventDefault();
    return setTimeout(function () {
      return $target.val(value.replace(/\d$/, ''));
    });
  }
};

reFormatExpiry = function (e) {
  return setTimeout(function () {
    var $target, value;
    $target = $(e.currentTarget);
    value = $target.val();
    value = replaceFullWidthChars(value);
    value = $.payment.formatExpiry(value);
    return safeVal(value, $target);
  });
};

formatExpiry = function (e) {
  var $target, digit, val;
  digit = String.fromCharCode(e.which);
  if (!/^\d+$/.test(digit)) {
    return;
  }
  $target = $(e.currentTarget);
  val = $target.val() + digit;
  if (/^\d$/.test(val) && val !== '0' && val !== '1') {
    e.preventDefault();
    return setTimeout(function () {
      return $target.val("0" + val + " / ");
    });
  } else if (/^\d\d$/.test(val)) {
    e.preventDefault();
    return setTimeout(function () {
      var m1, m2;
      m1 = parseInt(val[0], 10);
      m2 = parseInt(val[1], 10);
      if (m2 > 2 && m1 !== 0) {
        return $target.val("0" + m1 + " / " + m2);
      } else {
        return $target.val(val + " / ");
      }
    });
  }
};

formatForwardExpiry = function (e) {
  var $target, digit, val;
  digit = String.fromCharCode(e.which);
  if (!/^\d+$/.test(digit)) {
    return;
  }
  $target = $(e.currentTarget);
  val = $target.val();
  if (/^\d\d$/.test(val)) {
    return $target.val(val + " / ");
  }
};

formatForwardSlashAndSpace = function (e) {
  var $target, val, which;
  which = String.fromCharCode(e.which);
  if (!(which === '/' || which === ' ')) {
    return;
  }
  $target = $(e.currentTarget);
  val = $target.val();
  if (/^\d$/.test(val) && val !== '0') {
    return $target.val("0" + val + " / ");
  }
};

formatBackExpiry = function (e) {
  var $target, value;
  $target = $(e.currentTarget);
  value = $target.val();
  if (e.which !== 8) {
    return;
  }
  if ($target.prop('selectionStart') != null && $target.prop('selectionStart') !== value.length) {
    return;
  }
  if (/\d\s\/\s$/.test(value)) {
    e.preventDefault();
    return setTimeout(function () {
      return $target.val(value.replace(/\d\s\/\s$/, ''));
    });
  }
};

reFormatCVC = function (e) {
  return setTimeout(function () {
    var $target, value;
    $target = $(e.currentTarget);
    value = $target.val();
    value = replaceFullWidthChars(value);
    value = value.replace(/\D/g, '').slice(0, 4);
    return safeVal(value, $target);
  });
};

restrictNumeric = function (e) {
  var input;
  if (e.metaKey || e.ctrlKey) {
    return true;
  }
  if (e.which === 32) {
    return false;
  }
  if (e.which === 0) {
    return true;
  }
  if (e.which < 33) {
    return true;
  }
  input = String.fromCharCode(e.which);
  return !!/[\d\s]/.test(input);
};

restrictCardNumber = function (e) {
  var $target, card, digit, value;
  $target = $(e.currentTarget);
  digit = String.fromCharCode(e.which);
  if (!/^\d+$/.test(digit)) {
    return;
  }
  if (hasTextSelected($target)) {
    return;
  }
  value = ($target.val() + digit).replace(/\D/g, '');
  card = cardFromNumber(value);
  if (card) {
    return value.length <= card.length[card.length.length - 1];
  } else {
    return value.length <= 16;
  }
};

restrictExpiry = function (e) {
  var $target, digit, value;
  $target = $(e.currentTarget);
  digit = String.fromCharCode(e.which);
  if (!/^\d+$/.test(digit)) {
    return;
  }
  if (hasTextSelected($target)) {
    return;
  }
  value = $target.val() + digit;
  value = value.replace(/\D/g, '');
  if (value.length > 6) {
    return false;
  }
};

restrictCVC = function (e) {
  var $target, digit, val;
  $target = $(e.currentTarget);
  digit = String.fromCharCode(e.which);
  if (!/^\d+$/.test(digit)) {
    return;
  }
  if (hasTextSelected($target)) {
    return;
  }
  val = $target.val() + digit;
  return val.length <= 4;
};

setCardType = function (e) {
  var $target, allTypes, card, cardType, val;
  $target = $(e.currentTarget);
  val = $target.val();
  cardType = $.payment.cardType(val) || 'unknown';
  if (!$target.hasClass(cardType)) {
    allTypes = (function () {
      var i, len, results;
      results = [];
      for (i = 0, len = cards.length; i < len; i++) {
        card = cards[i];
        results.push(card.type);
      }
      return results;
    })();
    $target.removeClass('unknown');
    $target.removeClass(allTypes.join(' '));
    $target.addClass(cardType);
    $target.toggleClass('identified', cardType !== 'unknown');
    return $target.trigger('payment.cardType', cardType);
  }
};

$.payment.fn.formatCardCVC = function () {
  this.on('keypress', restrictNumeric);
  this.on('keypress', restrictCVC);
  this.on('paste', reFormatCVC);
  this.on('change', reFormatCVC);
  this.on('input', reFormatCVC);
  return this;
};

$.payment.fn.formatCardExpiry = function () {
  this.on('keypress', restrictNumeric);
  this.on('keypress', restrictExpiry);
  this.on('keypress', formatExpiry);
  this.on('keypress', formatForwardSlashAndSpace);
  this.on('keypress', formatForwardExpiry);
  this.on('keydown', formatBackExpiry);
  this.on('change', reFormatExpiry);
  this.on('input', reFormatExpiry);
  return this;
};

$.payment.fn.formatCardNumber = function () {
  this.on('keypress', restrictNumeric);
  this.on('keypress', restrictCardNumber);
  this.on('keypress', formatCardNumber);
  this.on('keydown', formatBackCardNumber);
  this.on('keyup', setCardType);
  this.on('paste', reFormatCardNumber);
  this.on('change', reFormatCardNumber);
  this.on('input', reFormatCardNumber);
  this.on('input', setCardType);
  return this;
};

$.payment.fn.restrictNumeric = function () {
  this.on('keypress', restrictNumeric);
  this.on('paste', reFormatNumeric);
  this.on('change', reFormatNumeric);
  this.on('input', reFormatNumeric);
  return this;
};

$.payment.fn.cardExpiryVal = function () {
  return $.payment.cardExpiryVal($(this).val());
};

$.payment.cardExpiryVal = function (value) {
  var month, prefix, ref, year;
  ref = value.split(/[\s\/]+/, 2), month = ref[0], year = ref[1];
  if ((year != null ? year.length : void 0) === 2 && /^\d+$/.test(year)) {
    prefix = new Date().getFullYear();
    prefix = prefix.toString().slice(0, 2);
    year = prefix + year;
  }
  month = parseInt(month, 10);
  year = parseInt(year, 10);
  return {
    month: month,
    year: year
  };
};

$.payment.validateCardNumber = function (num) {
  var card, ref;
  num = (num + '').replace(/\s+|-/g, '');
  if (!/^\d+$/.test(num)) {
    return false;
  }
  card = cardFromNumber(num);
  if (!card) {
    return false;
  }
  return (ref = num.length, indexOf.call(card.length, ref) >= 0) && (card.luhn === false || luhnCheck(num));
};

$.payment.validateCardExpiry = function (month, year) {
  var currentTime, expiry, ref;
  if ((typeof month === 'undefined' ? 'undefined' : _typeof(month)) === 'object' && 'month' in month) {
    ref = month, month = ref.month, year = ref.year;
  }
  if (!(month && year)) {
    return false;
  }
  month = $.trim(month);
  year = $.trim(year);
  if (!/^\d+$/.test(month)) {
    return false;
  }
  if (!/^\d+$/.test(year)) {
    return false;
  }
  if (!(1 <= month && month <= 12)) {
    return false;
  }
  if (year.length === 2) {
    if (year < 70) {
      year = "20" + year;
    } else {
      year = "19" + year;
    }
  }
  if (year.length !== 4) {
    return false;
  }
  expiry = new Date(year, month);
  currentTime = new Date();
  expiry.setMonth(expiry.getMonth() - 1);
  expiry.setMonth(expiry.getMonth() + 1, 1);
  return expiry > currentTime;
};

$.payment.validateCardCVC = function (cvc, type) {
  var card, ref;
  cvc = $.trim(cvc);
  if (!/^\d+$/.test(cvc)) {
    return false;
  }
  card = cardFromType(type);
  if (card != null) {
    return ref = cvc.length, indexOf.call(card.cvcLength, ref) >= 0;
  } else {
    return cvc.length >= 3 && cvc.length <= 4;
  }
};

$.payment.cardType = function (num) {
  var ref;
  if (!num) {
    return null;
  }
  return ((ref = cardFromNumber(num)) != null ? ref.type : void 0) || null;
};

$.payment.formatCardNumber = function (num) {
  var card, groups, ref, upperLength;
  num = num.replace(/\D/g, '');
  card = cardFromNumber(num);
  if (!card) {
    return num;
  }
  upperLength = card.length[card.length.length - 1];
  num = num.slice(0, upperLength);
  if (card.format.global) {
    return (ref = num.match(card.format)) != null ? ref.join(' ') : void 0;
  } else {
    groups = card.format.exec(num);
    if (groups == null) {
      return;
    }
    groups.shift();
    groups = $.grep(groups, function (n) {
      return n;
    });
    return groups.join(' ');
  }
};

$.payment.formatExpiry = function (expiry) {
  var mon, parts, sep, year;
  parts = expiry.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);
  if (!parts) {
    return '';
  }
  mon = parts[1] || '';
  sep = parts[2] || '';
  year = parts[3] || '';
  if (year.length > 0) {
    sep = ' / ';
  } else if (sep === ' /') {
    mon = mon.substring(0, 1);
    sep = '';
  } else if (mon.length === 2 || sep.length > 0) {
    sep = ' / ';
  } else if (mon.length === 1 && mon !== '0' && mon !== '1') {
    mon = "0" + mon;
    sep = ' / ';
  }
  return mon + sep + year;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5wYXltZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLENBQUM7SUFBRSxjQUFjO0lBQUUsWUFBWTtJQUFFLEtBQUs7SUFBRSxhQUFhO0lBQUUsb0JBQW9CO0lBQUUsZ0JBQWdCO0lBQUUsZ0JBQWdCO0lBQUUsWUFBWTtJQUFFLG1CQUFtQjtJQUFFLDBCQUEwQjtJQUFFLGVBQWU7SUFBRSxTQUFTO0lBQUUsV0FBVztJQUFFLGtCQUFrQjtJQUFFLGNBQWM7SUFBRSxlQUFlO0lBQUUscUJBQXFCO0lBQUUsV0FBVztJQUFFLGtCQUFrQjtJQUFFLGNBQWM7SUFBRSxlQUFlO0lBQUUsT0FBTztJQUFFLFdBQVc7SUFDN1gsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLO0lBQ2hCLE9BQU8sR0FBRyxFQUFFLENBQUMsT0FBTyxJQUFJLFVBQVMsSUFBSSxFQUFFO0FBQUUsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUFFLFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQUUsQUFBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0NBQUUsQ0FBQzs7QUFFdEosQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDOztBQUU5QyxDQUFDLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQzs7QUFFZixDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7O0FBRWxCLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxHQUFHLFlBQVc7QUFDeEIsTUFBSSxJQUFJLEVBQUUsTUFBTSxDQUFDO0FBQ2pCLFFBQU0sR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNwRixTQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDL0MsQ0FBQzs7QUFFRixhQUFhLEdBQUcsWUFBWSxDQUFDOztBQUU3QixDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FDeEI7QUFDRSxNQUFJLEVBQUUsY0FBYztBQUNwQixVQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7QUFDdEQsUUFBTSxFQUFFLGFBQWE7QUFDckIsUUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDO0FBQ1osV0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2QsTUFBSSxFQUFFLElBQUk7Q0FDWCxFQUFFO0FBQ0QsTUFBSSxFQUFFLFNBQVM7QUFDZixVQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDO0FBQ2pELFFBQU0sRUFBRSxhQUFhO0FBQ3JCLFFBQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7QUFDeEMsV0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2QsTUFBSSxFQUFFLElBQUk7Q0FDWCxFQUFFO0FBQ0QsTUFBSSxFQUFFLG9CQUFvQjtBQUMxQixVQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUM7QUFDZixRQUFNLEVBQUUsYUFBYTtBQUNyQixRQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDWixXQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDZCxNQUFJLEVBQUUsSUFBSTtDQUNYLEVBQUU7QUFDRCxNQUFJLEVBQUUsU0FBUztBQUNmLFVBQVEsRUFBRSxDQUFDLElBQUksQ0FBQztBQUNoQixRQUFNLEVBQUUsYUFBYTtBQUNyQixRQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDWixXQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDZCxNQUFJLEVBQUUsSUFBSTtDQUNYLEVBQUU7QUFDRCxNQUFJLEVBQUUsTUFBTTtBQUNaLFVBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNiLFFBQU0sRUFBRSxhQUFhO0FBQ3JCLFFBQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7QUFDaEIsV0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2QsTUFBSSxFQUFFLElBQUk7Q0FDWCxFQUFFO0FBQ0QsTUFBSSxFQUFFLFlBQVk7QUFDbEIsVUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztBQUN0RCxRQUFNLEVBQUUsYUFBYTtBQUNyQixRQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDWixXQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDZCxNQUFJLEVBQUUsSUFBSTtDQUNYLEVBQUU7QUFDRCxNQUFJLEVBQUUsTUFBTTtBQUNaLFVBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7QUFDbEIsUUFBTSxFQUFFLCtCQUErQjtBQUN2QyxRQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDWixXQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2pCLE1BQUksRUFBRSxJQUFJO0NBQ1gsRUFBRTtBQUNELE1BQUksRUFBRSxZQUFZO0FBQ2xCLFVBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztBQUMxQixRQUFNLEVBQUUsK0JBQStCO0FBQ3ZDLFFBQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUNaLFdBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNkLE1BQUksRUFBRSxJQUFJO0NBQ1gsRUFBRTtBQUNELE1BQUksRUFBRSxVQUFVO0FBQ2hCLFVBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQztBQUMzQixRQUFNLEVBQUUsYUFBYTtBQUNyQixRQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDWixXQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDZCxNQUFJLEVBQUUsSUFBSTtDQUNYLEVBQUU7QUFDRCxNQUFJLEVBQUUsVUFBVTtBQUNoQixVQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO0FBQ2xCLFFBQU0sRUFBRSxhQUFhO0FBQ3JCLFFBQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztBQUN4QixXQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDZCxNQUFJLEVBQUUsS0FBSztDQUNaLEVBQUU7QUFDRCxNQUFJLEVBQUUsS0FBSztBQUNYLFVBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUNkLFFBQU0sRUFBRSxhQUFhO0FBQ3JCLFFBQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUNaLFdBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNkLE1BQUksRUFBRSxJQUFJO0NBQ1gsQ0FDRixDQUFDOztBQUVGLGNBQWMsR0FBRyxVQUFTLEdBQUcsRUFBRTtBQUM3QixNQUFJLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUM7QUFDM0MsS0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQSxDQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDcEMsT0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUMsUUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoQixPQUFHLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztBQUNwQixTQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM1QyxhQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pCLE9BQUMsR0FBRyxPQUFPLEdBQUcsRUFBRSxDQUFDO0FBQ2pCLFVBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUNqQyxlQUFPLElBQUksQ0FBQztPQUNiO0tBQ0Y7R0FDRjtDQUNGLENBQUM7O0FBRUYsWUFBWSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzVCLE1BQUksSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUM7QUFDakIsT0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUMsUUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoQixRQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFO0FBQ3RCLGFBQU8sSUFBSSxDQUFDO0tBQ2I7R0FDRjtDQUNGLENBQUM7O0FBRUYsU0FBUyxHQUFHLFVBQVMsR0FBRyxFQUFFO0FBQ3hCLE1BQUksS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7QUFDcEMsS0FBRyxHQUFHLElBQUksQ0FBQztBQUNYLEtBQUcsR0FBRyxDQUFDLENBQUM7QUFDUixRQUFNLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFBLENBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3hDLE9BQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzdDLFNBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEIsU0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDNUIsUUFBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUc7QUFDaEIsV0FBSyxJQUFJLENBQUMsQ0FBQztLQUNaO0FBQ0QsUUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFO0FBQ2IsV0FBSyxJQUFJLENBQUMsQ0FBQztLQUNaO0FBQ0QsT0FBRyxJQUFJLEtBQUssQ0FBQztHQUNkO0FBQ0QsU0FBTyxHQUFHLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztDQUN2QixDQUFDOztBQUVGLGVBQWUsR0FBRyxVQUFTLE9BQU8sRUFBRTtBQUNsQyxNQUFJLEdBQUcsQ0FBQztBQUNSLE1BQUksQUFBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksSUFBSSxJQUFLLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxPQUFPLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFO0FBQy9HLFdBQU8sSUFBSSxDQUFDO0dBQ2I7QUFDRCxNQUFJLENBQUMsT0FBTyxRQUFRLEtBQUssV0FBVyxJQUFJLFFBQVEsS0FBSyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQSxJQUFLLElBQUksR0FBRyxHQUFHLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFBLElBQUssSUFBSSxFQUFFO0FBQzNJLFFBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7QUFDekMsYUFBTyxJQUFJLENBQUM7S0FDYjtHQUNGO0FBQ0QsU0FBTyxLQUFLLENBQUM7Q0FDZCxDQUFDOztBQUVGLE9BQU8sR0FBRyxVQUFTLEtBQUssRUFBRSxPQUFPLEVBQUU7QUFDakMsTUFBSSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQztBQUN4QixNQUFJO0FBQ0YsVUFBTSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztHQUN6QyxDQUFDLE9BQU8sTUFBTSxFQUFFO0FBQ2YsU0FBSyxHQUFHLE1BQU0sQ0FBQztBQUNmLFVBQU0sR0FBRyxJQUFJLENBQUM7R0FDZjtBQUNELE1BQUksR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDckIsU0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNuQixNQUFJLE1BQU0sS0FBSyxJQUFJLElBQUksT0FBTyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUMzQyxRQUFJLE1BQU0sS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQzFCLFlBQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO0tBQ3ZCO0FBQ0QsV0FBTyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN2QyxXQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0dBQzdDO0NBQ0YsQ0FBQzs7QUFFRixxQkFBcUIsR0FBRyxVQUFTLEdBQUcsRUFBRTtBQUNwQyxNQUFJLEtBQUssRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUM7QUFDekQsTUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO0FBQ2YsT0FBRyxHQUFHLEVBQUUsQ0FBQztHQUNWO0FBQ0QsV0FBUyxHQUFHLFlBQThELENBQUM7QUFDM0UsV0FBUyxHQUFHLFlBQVksQ0FBQztBQUN6QixPQUFLLEdBQUcsRUFBRSxDQUFDO0FBQ1gsT0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdEIsT0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUMsT0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNmLE9BQUcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzdCLFFBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQ1osU0FBRyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUN0QjtBQUNELFNBQUssSUFBSSxHQUFHLENBQUM7R0FDZDtBQUNELFNBQU8sS0FBSyxDQUFDO0NBQ2QsQ0FBQzs7QUFFRixlQUFlLEdBQUcsVUFBUyxDQUFDLEVBQUU7QUFDNUIsU0FBTyxVQUFVLENBQUMsWUFBVztBQUMzQixRQUFJLE9BQU8sRUFBRSxLQUFLLENBQUM7QUFDbkIsV0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDN0IsU0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUN0QixTQUFLLEdBQUcscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDckMsU0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ2pDLFdBQU8sT0FBTyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztHQUNoQyxDQUFDLENBQUM7Q0FDSixDQUFDOztBQUVGLGtCQUFrQixHQUFHLFVBQVMsQ0FBQyxFQUFFO0FBQy9CLFNBQU8sVUFBVSxDQUFDLFlBQVc7QUFDM0IsUUFBSSxPQUFPLEVBQUUsS0FBSyxDQUFDO0FBQ25CLFdBQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzdCLFNBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDdEIsU0FBSyxHQUFHLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3JDLFNBQUssR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzFDLFdBQU8sT0FBTyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztHQUNoQyxDQUFDLENBQUM7Q0FDSixDQUFDOztBQUVGLGdCQUFnQixHQUFHLFVBQVMsQ0FBQyxFQUFFO0FBQzdCLE1BQUksT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsS0FBSyxDQUFDO0FBQ3pELE9BQUssR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxNQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN4QixXQUFPO0dBQ1I7QUFDRCxTQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUM3QixPQUFLLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLE1BQUksR0FBRyxjQUFjLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQ3JDLFFBQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQSxDQUFFLE1BQU0sQ0FBQztBQUNuRCxhQUFXLEdBQUcsRUFBRSxDQUFDO0FBQ2pCLE1BQUksSUFBSSxFQUFFO0FBQ1IsZUFBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7R0FDbkQ7QUFDRCxNQUFJLE1BQU0sSUFBSSxXQUFXLEVBQUU7QUFDekIsV0FBTztHQUNSO0FBQ0QsTUFBSSxBQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxJQUFJLElBQUssT0FBTyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEtBQUssQ0FBQyxNQUFNLEVBQUU7QUFDL0YsV0FBTztHQUNSO0FBQ0QsTUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEVBQUU7QUFDaEMsTUFBRSxHQUFHLHdCQUF3QixDQUFDO0dBQy9CLE1BQU07QUFDTCxNQUFFLEdBQUcsa0JBQWtCLENBQUM7R0FDekI7QUFDRCxNQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDbEIsS0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ25CLFdBQU8sVUFBVSxDQUFDLFlBQVc7QUFDM0IsYUFBTyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUM7S0FDekMsQ0FBQyxDQUFDO0dBQ0osTUFBTSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxFQUFFO0FBQ2pDLEtBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUNuQixXQUFPLFVBQVUsQ0FBQyxZQUFXO0FBQzNCLGFBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0tBQ3pDLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQzs7QUFFRixvQkFBb0IsR0FBRyxVQUFTLENBQUMsRUFBRTtBQUNqQyxNQUFJLE9BQU8sRUFBRSxLQUFLLENBQUM7QUFDbkIsU0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDN0IsT0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUN0QixNQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ2pCLFdBQU87R0FDUjtBQUNELE1BQUksQUFBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksSUFBSSxJQUFLLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxLQUFLLENBQUMsTUFBTSxFQUFFO0FBQy9GLFdBQU87R0FDUjtBQUNELE1BQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN2QixLQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDbkIsV0FBTyxVQUFVLENBQUMsWUFBVztBQUMzQixhQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUNoRCxDQUFDLENBQUM7R0FDSixNQUFNLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUMvQixLQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDbkIsV0FBTyxVQUFVLENBQUMsWUFBVztBQUMzQixhQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUM5QyxDQUFDLENBQUM7R0FDSjtDQUNGLENBQUM7O0FBRUYsY0FBYyxHQUFHLFVBQVMsQ0FBQyxFQUFFO0FBQzNCLFNBQU8sVUFBVSxDQUFDLFlBQVc7QUFDM0IsUUFBSSxPQUFPLEVBQUUsS0FBSyxDQUFDO0FBQ25CLFdBQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzdCLFNBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDdEIsU0FBSyxHQUFHLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3JDLFNBQUssR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN0QyxXQUFPLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDaEMsQ0FBQyxDQUFDO0NBQ0osQ0FBQzs7QUFFRixZQUFZLEdBQUcsVUFBUyxDQUFDLEVBQUU7QUFDekIsTUFBSSxPQUFPLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQztBQUN4QixPQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDckMsTUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDeEIsV0FBTztHQUNSO0FBQ0QsU0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDN0IsS0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUM7QUFDNUIsTUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFLLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsQUFBQyxFQUFFO0FBQ3BELEtBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUNuQixXQUFPLFVBQVUsQ0FBQyxZQUFXO0FBQzNCLGFBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDO0tBQ3ZDLENBQUMsQ0FBQztHQUNKLE1BQU0sSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzdCLEtBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUNuQixXQUFPLFVBQVUsQ0FBQyxZQUFXO0FBQzNCLFVBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQztBQUNYLFFBQUUsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzFCLFFBQUUsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzFCLFVBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ3RCLGVBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQztPQUMzQyxNQUFNO0FBQ0wsZUFBTyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQztPQUNqQztLQUNGLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQzs7QUFFRixtQkFBbUIsR0FBRyxVQUFTLENBQUMsRUFBRTtBQUNoQyxNQUFJLE9BQU8sRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDO0FBQ3hCLE9BQUssR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxNQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN4QixXQUFPO0dBQ1I7QUFDRCxTQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUM3QixLQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLE1BQUksUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN0QixXQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDO0dBQ2pDO0NBQ0YsQ0FBQzs7QUFFRiwwQkFBMEIsR0FBRyxVQUFTLENBQUMsRUFBRTtBQUN2QyxNQUFJLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDO0FBQ3hCLE9BQUssR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxNQUFJLEVBQUUsS0FBSyxLQUFLLEdBQUcsSUFBSSxLQUFLLEtBQUssR0FBRyxDQUFBLEFBQUMsRUFBRTtBQUNyQyxXQUFPO0dBQ1I7QUFDRCxTQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUM3QixLQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLE1BQUksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEtBQUssR0FBRyxFQUFFO0FBQ25DLFdBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDO0dBQ3ZDO0NBQ0YsQ0FBQzs7QUFFRixnQkFBZ0IsR0FBRyxVQUFTLENBQUMsRUFBRTtBQUM3QixNQUFJLE9BQU8sRUFBRSxLQUFLLENBQUM7QUFDbkIsU0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDN0IsT0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUN0QixNQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ2pCLFdBQU87R0FDUjtBQUNELE1BQUksQUFBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksSUFBSSxJQUFLLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxLQUFLLENBQUMsTUFBTSxFQUFFO0FBQy9GLFdBQU87R0FDUjtBQUNELE1BQUksV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUMzQixLQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDbkIsV0FBTyxVQUFVLENBQUMsWUFBVztBQUMzQixhQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUNwRCxDQUFDLENBQUM7R0FDSjtDQUNGLENBQUM7O0FBRUYsV0FBVyxHQUFHLFVBQVMsQ0FBQyxFQUFFO0FBQ3hCLFNBQU8sVUFBVSxDQUFDLFlBQVc7QUFDM0IsUUFBSSxPQUFPLEVBQUUsS0FBSyxDQUFDO0FBQ25CLFdBQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzdCLFNBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDdEIsU0FBSyxHQUFHLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3JDLFNBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzdDLFdBQU8sT0FBTyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztHQUNoQyxDQUFDLENBQUM7Q0FDSixDQUFDOztBQUVGLGVBQWUsR0FBRyxVQUFTLENBQUMsRUFBRTtBQUM1QixNQUFJLEtBQUssQ0FBQztBQUNWLE1BQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFO0FBQzFCLFdBQU8sSUFBSSxDQUFDO0dBQ2I7QUFDRCxNQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssRUFBRSxFQUFFO0FBQ2xCLFdBQU8sS0FBSyxDQUFDO0dBQ2Q7QUFDRCxNQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ2pCLFdBQU8sSUFBSSxDQUFDO0dBQ2I7QUFDRCxNQUFJLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxFQUFFO0FBQ2hCLFdBQU8sSUFBSSxDQUFDO0dBQ2I7QUFDRCxPQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDckMsU0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUMvQixDQUFDOztBQUVGLGtCQUFrQixHQUFHLFVBQVMsQ0FBQyxFQUFFO0FBQy9CLE1BQUksT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDO0FBQ2hDLFNBQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzdCLE9BQUssR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxNQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN4QixXQUFPO0dBQ1I7QUFDRCxNQUFJLGVBQWUsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUM1QixXQUFPO0dBQ1I7QUFDRCxPQUFLLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFBLENBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNuRCxNQUFJLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzdCLE1BQUksSUFBSSxFQUFFO0FBQ1IsV0FBTyxLQUFLLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7R0FDNUQsTUFBTTtBQUNMLFdBQU8sS0FBSyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUM7R0FDM0I7Q0FDRixDQUFDOztBQUVGLGNBQWMsR0FBRyxVQUFTLENBQUMsRUFBRTtBQUMzQixNQUFJLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDO0FBQzFCLFNBQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzdCLE9BQUssR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxNQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN4QixXQUFPO0dBQ1I7QUFDRCxNQUFJLGVBQWUsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUM1QixXQUFPO0dBQ1I7QUFDRCxPQUFLLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQztBQUM5QixPQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDakMsTUFBSSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUNwQixXQUFPLEtBQUssQ0FBQztHQUNkO0NBQ0YsQ0FBQzs7QUFFRixXQUFXLEdBQUcsVUFBUyxDQUFDLEVBQUU7QUFDeEIsTUFBSSxPQUFPLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQztBQUN4QixTQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUM3QixPQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDckMsTUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDeEIsV0FBTztHQUNSO0FBQ0QsTUFBSSxlQUFlLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFDNUIsV0FBTztHQUNSO0FBQ0QsS0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUM7QUFDNUIsU0FBTyxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQztDQUN4QixDQUFDOztBQUVGLFdBQVcsR0FBRyxVQUFTLENBQUMsRUFBRTtBQUN4QixNQUFJLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxHQUFHLENBQUM7QUFDM0MsU0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDN0IsS0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNwQixVQUFRLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksU0FBUyxDQUFDO0FBQ2hELE1BQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQy9CLFlBQVEsR0FBRyxDQUFDLFlBQVc7QUFDckIsVUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQztBQUNwQixhQUFPLEdBQUcsRUFBRSxDQUFDO0FBQ2IsV0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUMsWUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoQixlQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN6QjtBQUNELGFBQU8sT0FBTyxDQUFDO0tBQ2hCLENBQUEsRUFBRyxDQUFDO0FBQ0wsV0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUMvQixXQUFPLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUN4QyxXQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzNCLFdBQU8sQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLFFBQVEsS0FBSyxTQUFTLENBQUMsQ0FBQztBQUMxRCxXQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLENBQUM7R0FDdEQ7Q0FDRixDQUFDOztBQUVGLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLGFBQWEsR0FBRyxZQUFXO0FBQ3RDLE1BQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ3JDLE1BQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ2pDLE1BQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzlCLE1BQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQy9CLE1BQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzlCLFNBQU8sSUFBSSxDQUFDO0NBQ2IsQ0FBQzs7QUFFRixDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsR0FBRyxZQUFXO0FBQ3pDLE1BQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ3JDLE1BQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3BDLE1BQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2xDLE1BQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLDBCQUEwQixDQUFDLENBQUM7QUFDaEQsTUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztBQUN6QyxNQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3JDLE1BQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ2xDLE1BQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ2pDLFNBQU8sSUFBSSxDQUFDO0NBQ2IsQ0FBQzs7QUFFRixDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsR0FBRyxZQUFXO0FBQ3pDLE1BQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ3JDLE1BQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLGtCQUFrQixDQUFDLENBQUM7QUFDeEMsTUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUN0QyxNQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO0FBQ3pDLE1BQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzlCLE1BQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGtCQUFrQixDQUFDLENBQUM7QUFDckMsTUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztBQUN0QyxNQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3JDLE1BQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzlCLFNBQU8sSUFBSSxDQUFDO0NBQ2IsQ0FBQzs7QUFFRixDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxlQUFlLEdBQUcsWUFBVztBQUN4QyxNQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNyQyxNQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNsQyxNQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNuQyxNQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNsQyxTQUFPLElBQUksQ0FBQztDQUNiLENBQUM7O0FBRUYsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsYUFBYSxHQUFHLFlBQVc7QUFDdEMsU0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUMvQyxDQUFDOztBQUVGLENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBYSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQ3hDLE1BQUksS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDO0FBQzdCLEtBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0QsTUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsQ0FBQSxLQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQ3JFLFVBQU0sR0FBRyxBQUFDLElBQUksSUFBSSxFQUFBLENBQUUsV0FBVyxFQUFFLENBQUM7QUFDbEMsVUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3ZDLFFBQUksR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDO0dBQ3RCO0FBQ0QsT0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDNUIsTUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDMUIsU0FBTztBQUNMLFNBQUssRUFBRSxLQUFLO0FBQ1osUUFBSSxFQUFFLElBQUk7R0FDWCxDQUFDO0NBQ0gsQ0FBQzs7QUFFRixDQUFDLENBQUMsT0FBTyxDQUFDLGtCQUFrQixHQUFHLFVBQVMsR0FBRyxFQUFFO0FBQzNDLE1BQUksSUFBSSxFQUFFLEdBQUcsQ0FBQztBQUNkLEtBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUEsQ0FBRSxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZDLE1BQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFdBQU8sS0FBSyxDQUFDO0dBQ2Q7QUFDRCxNQUFJLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLE1BQUksQ0FBQyxJQUFJLEVBQUU7QUFDVCxXQUFPLEtBQUssQ0FBQztHQUNkO0FBQ0QsU0FBTyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUEsS0FBTSxJQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUEsQUFBQyxDQUFDO0NBQzNHLENBQUM7O0FBRUYsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsR0FBRyxVQUFTLEtBQUssRUFBRSxJQUFJLEVBQUU7QUFDbkQsTUFBSSxXQUFXLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQztBQUM3QixNQUFJLFFBQU8sS0FBSyx5Q0FBTCxLQUFLLE9BQUssUUFBUSxJQUFJLE9BQU8sSUFBSSxLQUFLLEVBQUU7QUFDakQsT0FBRyxHQUFHLEtBQUssRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztHQUNqRDtBQUNELE1BQUksRUFBRSxLQUFLLElBQUksSUFBSSxDQUFBLEFBQUMsRUFBRTtBQUNwQixXQUFPLEtBQUssQ0FBQztHQUNkO0FBQ0QsT0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDdEIsTUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEIsTUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDeEIsV0FBTyxLQUFLLENBQUM7R0FDZDtBQUNELE1BQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQ3ZCLFdBQU8sS0FBSyxDQUFDO0dBQ2Q7QUFDRCxNQUFJLEVBQUcsQ0FBQyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksRUFBRSxDQUFBLEFBQUUsRUFBRTtBQUNsQyxXQUFPLEtBQUssQ0FBQztHQUNkO0FBQ0QsTUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUNyQixRQUFJLElBQUksR0FBRyxFQUFFLEVBQUU7QUFDYixVQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQztLQUNwQixNQUFNO0FBQ0wsVUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7S0FDcEI7R0FDRjtBQUNELE1BQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7QUFDckIsV0FBTyxLQUFLLENBQUM7R0FDZDtBQUNELFFBQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDL0IsYUFBVyxHQUFHLElBQUksSUFBSSxFQUFBLENBQUM7QUFDdkIsUUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDdkMsUUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzFDLFNBQU8sTUFBTSxHQUFHLFdBQVcsQ0FBQztDQUM3QixDQUFDOztBQUVGLENBQUMsQ0FBQyxPQUFPLENBQUMsZUFBZSxHQUFHLFVBQVMsR0FBRyxFQUFFLElBQUksRUFBRTtBQUM5QyxNQUFJLElBQUksRUFBRSxHQUFHLENBQUM7QUFDZCxLQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNsQixNQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN0QixXQUFPLEtBQUssQ0FBQztHQUNkO0FBQ0QsTUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMxQixNQUFJLElBQUksSUFBSSxJQUFJLEVBQUU7QUFDaEIsV0FBTyxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQ2pFLE1BQU07QUFDTCxXQUFPLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO0dBQzNDO0NBQ0YsQ0FBQzs7QUFFRixDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxVQUFTLEdBQUcsRUFBRTtBQUNqQyxNQUFJLEdBQUcsQ0FBQztBQUNSLE1BQUksQ0FBQyxHQUFHLEVBQUU7QUFDUixXQUFPLElBQUksQ0FBQztHQUNiO0FBQ0QsU0FBTyxDQUFDLENBQUMsR0FBRyxHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQSxJQUFLLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFBLElBQUssSUFBSSxDQUFDO0NBQzFFLENBQUM7O0FBRUYsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsR0FBRyxVQUFTLEdBQUcsRUFBRTtBQUN6QyxNQUFJLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsQ0FBQztBQUNuQyxLQUFHLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDN0IsTUFBSSxHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzQixNQUFJLENBQUMsSUFBSSxFQUFFO0FBQ1QsV0FBTyxHQUFHLENBQUM7R0FDWjtBQUNELGFBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2xELEtBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUNoQyxNQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQ3RCLFdBQU8sQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUEsSUFBSyxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztHQUN4RSxNQUFNO0FBQ0wsVUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9CLFFBQUksTUFBTSxJQUFJLElBQUksRUFBRTtBQUNsQixhQUFPO0tBQ1I7QUFDRCxVQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDZixVQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsVUFBUyxDQUFDLEVBQUU7QUFDbEMsYUFBTyxDQUFDLENBQUM7S0FDVixDQUFDLENBQUM7QUFDSCxXQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7R0FDekI7Q0FDRixDQUFDOztBQUVGLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxHQUFHLFVBQVMsTUFBTSxFQUFFO0FBQ3hDLE1BQUksR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDO0FBQzFCLE9BQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLCtCQUErQixDQUFDLENBQUM7QUFDdEQsTUFBSSxDQUFDLEtBQUssRUFBRTtBQUNWLFdBQU8sRUFBRSxDQUFDO0dBQ1g7QUFDRCxLQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNyQixLQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNyQixNQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUN0QixNQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ25CLE9BQUcsR0FBRyxLQUFLLENBQUM7R0FDYixNQUFNLElBQUksR0FBRyxLQUFLLElBQUksRUFBRTtBQUN2QixPQUFHLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDMUIsT0FBRyxHQUFHLEVBQUUsQ0FBQztHQUNWLE1BQU0sSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUM3QyxPQUFHLEdBQUcsS0FBSyxDQUFDO0dBQ2IsTUFBTSxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFLLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsQUFBQyxFQUFFO0FBQzNELE9BQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQ2hCLE9BQUcsR0FBRyxLQUFLLENBQUM7R0FDYjtBQUNELFNBQU8sR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUM7Q0FDekIsQ0FBQyIsImZpbGUiOiJqcXVlcnkucGF5bWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciAkLCBjYXJkRnJvbU51bWJlciwgY2FyZEZyb21UeXBlLCBjYXJkcywgZGVmYXVsdEZvcm1hdCwgZm9ybWF0QmFja0NhcmROdW1iZXIsIGZvcm1hdEJhY2tFeHBpcnksIGZvcm1hdENhcmROdW1iZXIsIGZvcm1hdEV4cGlyeSwgZm9ybWF0Rm9yd2FyZEV4cGlyeSwgZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UsIGhhc1RleHRTZWxlY3RlZCwgbHVobkNoZWNrLCByZUZvcm1hdENWQywgcmVGb3JtYXRDYXJkTnVtYmVyLCByZUZvcm1hdEV4cGlyeSwgcmVGb3JtYXROdW1lcmljLCByZXBsYWNlRnVsbFdpZHRoQ2hhcnMsIHJlc3RyaWN0Q1ZDLCByZXN0cmljdENhcmROdW1iZXIsIHJlc3RyaWN0RXhwaXJ5LCByZXN0cmljdE51bWVyaWMsIHNhZmVWYWwsIHNldENhcmRUeXBlLFxuICBzbGljZSA9IFtdLnNsaWNlLFxuICBpbmRleE9mID0gW10uaW5kZXhPZiB8fCBmdW5jdGlvbihpdGVtKSB7IGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsgaWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSByZXR1cm4gaTsgfSByZXR1cm4gLTE7IH07XG5cbiQgPSB3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byB8fCB3aW5kb3cuJDtcblxuJC5wYXltZW50ID0ge307XG5cbiQucGF5bWVudC5mbiA9IHt9O1xuXG4kLmZuLnBheW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGFyZ3MsIG1ldGhvZDtcbiAgbWV0aG9kID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gIHJldHVybiAkLnBheW1lbnQuZm5bbWV0aG9kXS5hcHBseSh0aGlzLCBhcmdzKTtcbn07XG5cbmRlZmF1bHRGb3JtYXQgPSAvKFxcZHsxLDR9KS9nO1xuXG4kLnBheW1lbnQuY2FyZHMgPSBjYXJkcyA9IFtcbiAge1xuICAgIHR5cGU6ICd2aXNhZWxlY3Ryb24nLFxuICAgIHBhdHRlcm5zOiBbNDAyNiwgNDE3NTAwLCA0NDA1LCA0NTA4LCA0ODQ0LCA0OTEzLCA0OTE3XSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgbGVuZ3RoOiBbMTZdLFxuICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgIGx1aG46IHRydWVcbiAgfSwge1xuICAgIHR5cGU6ICdtYWVzdHJvJyxcbiAgICBwYXR0ZXJuczogWzUwMTgsIDUwMiwgNTAzLCA1NiwgNTgsIDYzOSwgNjIyMCwgNjddLFxuICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICBsZW5ndGg6IFsxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTldLFxuICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgIGx1aG46IHRydWVcbiAgfSwge1xuICAgIHR5cGU6ICdmb3JicnVnc2ZvcmVuaW5nZW4nLFxuICAgIHBhdHRlcm5zOiBbNjAwXSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgbGVuZ3RoOiBbMTZdLFxuICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgIGx1aG46IHRydWVcbiAgfSwge1xuICAgIHR5cGU6ICdkYW5rb3J0JyxcbiAgICBwYXR0ZXJuczogWzUwMTldLFxuICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICBsZW5ndGg6IFsxNl0sXG4gICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgbHVobjogdHJ1ZVxuICB9LCB7XG4gICAgdHlwZTogJ3Zpc2EnLFxuICAgIHBhdHRlcm5zOiBbNF0sXG4gICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgIGxlbmd0aDogWzEzLCAxNl0sXG4gICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgbHVobjogdHJ1ZVxuICB9LCB7XG4gICAgdHlwZTogJ21hc3RlcmNhcmQnLFxuICAgIHBhdHRlcm5zOiBbNTEsIDUyLCA1MywgNTQsIDU1LCAyMiwgMjMsIDI0LCAyNSwgMjYsIDI3XSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgbGVuZ3RoOiBbMTZdLFxuICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgIGx1aG46IHRydWVcbiAgfSwge1xuICAgIHR5cGU6ICdhbWV4JyxcbiAgICBwYXR0ZXJuczogWzM0LCAzN10sXG4gICAgZm9ybWF0OiAvKFxcZHsxLDR9KShcXGR7MSw2fSk/KFxcZHsxLDV9KT8vLFxuICAgIGxlbmd0aDogWzE1XSxcbiAgICBjdmNMZW5ndGg6IFszLCA0XSxcbiAgICBsdWhuOiB0cnVlXG4gIH0sIHtcbiAgICB0eXBlOiAnZGluZXJzY2x1YicsXG4gICAgcGF0dGVybnM6IFszMCwgMzYsIDM4LCAzOV0sXG4gICAgZm9ybWF0OiAvKFxcZHsxLDR9KShcXGR7MSw2fSk/KFxcZHsxLDR9KT8vLFxuICAgIGxlbmd0aDogWzE0XSxcbiAgICBjdmNMZW5ndGg6IFszXSxcbiAgICBsdWhuOiB0cnVlXG4gIH0sIHtcbiAgICB0eXBlOiAnZGlzY292ZXInLFxuICAgIHBhdHRlcm5zOiBbNjAsIDY0LCA2NSwgNjIyXSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgbGVuZ3RoOiBbMTZdLFxuICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgIGx1aG46IHRydWVcbiAgfSwge1xuICAgIHR5cGU6ICd1bmlvbnBheScsXG4gICAgcGF0dGVybnM6IFs2MiwgODhdLFxuICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICBsZW5ndGg6IFsxNiwgMTcsIDE4LCAxOV0sXG4gICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgbHVobjogZmFsc2VcbiAgfSwge1xuICAgIHR5cGU6ICdqY2InLFxuICAgIHBhdHRlcm5zOiBbMzVdLFxuICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICBsZW5ndGg6IFsxNl0sXG4gICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgbHVobjogdHJ1ZVxuICB9XG5dO1xuXG5jYXJkRnJvbU51bWJlciA9IGZ1bmN0aW9uKG51bSkge1xuICB2YXIgY2FyZCwgaSwgaiwgbGVuLCBsZW4xLCBwLCBwYXR0ZXJuLCByZWY7XG4gIG51bSA9IChudW0gKyAnJykucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgZm9yIChpID0gMCwgbGVuID0gY2FyZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjYXJkID0gY2FyZHNbaV07XG4gICAgcmVmID0gY2FyZC5wYXR0ZXJucztcbiAgICBmb3IgKGogPSAwLCBsZW4xID0gcmVmLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgcGF0dGVybiA9IHJlZltqXTtcbiAgICAgIHAgPSBwYXR0ZXJuICsgJyc7XG4gICAgICBpZiAobnVtLnN1YnN0cigwLCBwLmxlbmd0aCkgPT09IHApIHtcbiAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5jYXJkRnJvbVR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBjYXJkLCBpLCBsZW47XG4gIGZvciAoaSA9IDAsIGxlbiA9IGNhcmRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY2FyZCA9IGNhcmRzW2ldO1xuICAgIGlmIChjYXJkLnR5cGUgPT09IHR5cGUpIHtcbiAgICAgIHJldHVybiBjYXJkO1xuICAgIH1cbiAgfVxufTtcblxubHVobkNoZWNrID0gZnVuY3Rpb24obnVtKSB7XG4gIHZhciBkaWdpdCwgZGlnaXRzLCBpLCBsZW4sIG9kZCwgc3VtO1xuICBvZGQgPSB0cnVlO1xuICBzdW0gPSAwO1xuICBkaWdpdHMgPSAobnVtICsgJycpLnNwbGl0KCcnKS5yZXZlcnNlKCk7XG4gIGZvciAoaSA9IDAsIGxlbiA9IGRpZ2l0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGRpZ2l0ID0gZGlnaXRzW2ldO1xuICAgIGRpZ2l0ID0gcGFyc2VJbnQoZGlnaXQsIDEwKTtcbiAgICBpZiAoKG9kZCA9ICFvZGQpKSB7XG4gICAgICBkaWdpdCAqPSAyO1xuICAgIH1cbiAgICBpZiAoZGlnaXQgPiA5KSB7XG4gICAgICBkaWdpdCAtPSA5O1xuICAgIH1cbiAgICBzdW0gKz0gZGlnaXQ7XG4gIH1cbiAgcmV0dXJuIHN1bSAlIDEwID09PSAwO1xufTtcblxuaGFzVGV4dFNlbGVjdGVkID0gZnVuY3Rpb24oJHRhcmdldCkge1xuICB2YXIgcmVmO1xuICBpZiAoKCR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPSBudWxsKSAmJiAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT09ICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uRW5kJykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudCAhPT0gbnVsbCA/IChyZWYgPSBkb2N1bWVudC5zZWxlY3Rpb24pICE9IG51bGwgPyByZWYuY3JlYXRlUmFuZ2UgOiB2b2lkIDAgOiB2b2lkIDApICE9IG51bGwpIHtcbiAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbnNhZmVWYWwgPSBmdW5jdGlvbih2YWx1ZSwgJHRhcmdldCkge1xuICB2YXIgY3Vyc29yLCBlcnJvciwgbGFzdDtcbiAgdHJ5IHtcbiAgICBjdXJzb3IgPSAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gIH0gY2F0Y2ggKF9lcnJvcikge1xuICAgIGVycm9yID0gX2Vycm9yO1xuICAgIGN1cnNvciA9IG51bGw7XG4gIH1cbiAgbGFzdCA9ICR0YXJnZXQudmFsKCk7XG4gICR0YXJnZXQudmFsKHZhbHVlKTtcbiAgaWYgKGN1cnNvciAhPT0gbnVsbCAmJiAkdGFyZ2V0LmlzKFwiOmZvY3VzXCIpKSB7XG4gICAgaWYgKGN1cnNvciA9PT0gbGFzdC5sZW5ndGgpIHtcbiAgICAgIGN1cnNvciA9IHZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcsIGN1cnNvcik7XG4gICAgcmV0dXJuICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uRW5kJywgY3Vyc29yKTtcbiAgfVxufTtcblxucmVwbGFjZUZ1bGxXaWR0aENoYXJzID0gZnVuY3Rpb24oc3RyKSB7XG4gIHZhciBjaGFycywgY2hyLCBmdWxsV2lkdGgsIGhhbGZXaWR0aCwgaSwgaWR4LCBsZW4sIHZhbHVlO1xuICBpZiAoc3RyID09IG51bGwpIHtcbiAgICBzdHIgPSAnJztcbiAgfVxuICBmdWxsV2lkdGggPSAnXFx1ZmYxMFxcdWZmMTFcXHVmZjEyXFx1ZmYxM1xcdWZmMTRcXHVmZjE1XFx1ZmYxNlxcdWZmMTdcXHVmZjE4XFx1ZmYxOSc7XG4gIGhhbGZXaWR0aCA9ICcwMTIzNDU2Nzg5JztcbiAgdmFsdWUgPSAnJztcbiAgY2hhcnMgPSBzdHIuc3BsaXQoJycpO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBjaGFycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGNociA9IGNoYXJzW2ldO1xuICAgIGlkeCA9IGZ1bGxXaWR0aC5pbmRleE9mKGNocik7XG4gICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICBjaHIgPSBoYWxmV2lkdGhbaWR4XTtcbiAgICB9XG4gICAgdmFsdWUgKz0gY2hyO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbnJlRm9ybWF0TnVtZXJpYyA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgIHZhbHVlID0gcmVwbGFjZUZ1bGxXaWR0aENoYXJzKHZhbHVlKTtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgcmV0dXJuIHNhZmVWYWwodmFsdWUsICR0YXJnZXQpO1xuICB9KTtcbn07XG5cbnJlRm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgIHZhbHVlID0gcmVwbGFjZUZ1bGxXaWR0aENoYXJzKHZhbHVlKTtcbiAgICB2YWx1ZSA9ICQucGF5bWVudC5mb3JtYXRDYXJkTnVtYmVyKHZhbHVlKTtcbiAgICByZXR1cm4gc2FmZVZhbCh2YWx1ZSwgJHRhcmdldCk7XG4gIH0pO1xufTtcblxuZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyICR0YXJnZXQsIGNhcmQsIGRpZ2l0LCBsZW5ndGgsIHJlLCB1cHBlckxlbmd0aCwgdmFsdWU7XG4gIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgIHJldHVybjtcbiAgfVxuICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICB2YWx1ZSA9ICR0YXJnZXQudmFsKCk7XG4gIGNhcmQgPSBjYXJkRnJvbU51bWJlcih2YWx1ZSArIGRpZ2l0KTtcbiAgbGVuZ3RoID0gKHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJykgKyBkaWdpdCkubGVuZ3RoO1xuICB1cHBlckxlbmd0aCA9IDE2O1xuICBpZiAoY2FyZCkge1xuICAgIHVwcGVyTGVuZ3RoID0gY2FyZC5sZW5ndGhbY2FyZC5sZW5ndGgubGVuZ3RoIC0gMV07XG4gIH1cbiAgaWYgKGxlbmd0aCA+PSB1cHBlckxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoKCR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPSBudWxsKSAmJiAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT09IHZhbHVlLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoY2FyZCAmJiBjYXJkLnR5cGUgPT09ICdhbWV4Jykge1xuICAgIHJlID0gL14oXFxkezR9fFxcZHs0fVxcc1xcZHs2fSkkLztcbiAgfSBlbHNlIHtcbiAgICByZSA9IC8oPzpefFxccykoXFxkezR9KSQvO1xuICB9XG4gIGlmIChyZS50ZXN0KHZhbHVlKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZSArICcgJyArIGRpZ2l0KTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChyZS50ZXN0KHZhbHVlICsgZGlnaXQpKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgZGlnaXQgKyAnICcpO1xuICAgIH0pO1xuICB9XG59O1xuXG5mb3JtYXRCYWNrQ2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICB2YWx1ZSA9ICR0YXJnZXQudmFsKCk7XG4gIGlmIChlLndoaWNoICE9PSA4KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICgoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICgvXFxkXFxzJC8udGVzdCh2YWx1ZSkpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUucmVwbGFjZSgvXFxkXFxzJC8sICcnKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoL1xcc1xcZD8kLy50ZXN0KHZhbHVlKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWx1ZS5yZXBsYWNlKC9cXGQkLywgJycpKTtcbiAgICB9KTtcbiAgfVxufTtcblxucmVGb3JtYXRFeHBpcnkgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICB2YWx1ZSA9IHJlcGxhY2VGdWxsV2lkdGhDaGFycyh2YWx1ZSk7XG4gICAgdmFsdWUgPSAkLnBheW1lbnQuZm9ybWF0RXhwaXJ5KHZhbHVlKTtcbiAgICByZXR1cm4gc2FmZVZhbCh2YWx1ZSwgJHRhcmdldCk7XG4gIH0pO1xufTtcblxuZm9ybWF0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbDtcbiAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIHZhbCA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgaWYgKC9eXFxkJC8udGVzdCh2YWwpICYmICh2YWwgIT09ICcwJyAmJiB2YWwgIT09ICcxJykpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJHRhcmdldC52YWwoXCIwXCIgKyB2YWwgKyBcIiAvIFwiKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICgvXlxcZFxcZCQvLnRlc3QodmFsKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtMSwgbTI7XG4gICAgICBtMSA9IHBhcnNlSW50KHZhbFswXSwgMTApO1xuICAgICAgbTIgPSBwYXJzZUludCh2YWxbMV0sIDEwKTtcbiAgICAgIGlmIChtMiA+IDIgJiYgbTEgIT09IDApIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKFwiMFwiICsgbTEgKyBcIiAvIFwiICsgbTIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbCArIFwiIC8gXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5mb3JtYXRGb3J3YXJkRXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbDtcbiAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIHZhbCA9ICR0YXJnZXQudmFsKCk7XG4gIGlmICgvXlxcZFxcZCQvLnRlc3QodmFsKSkge1xuICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWwgKyBcIiAvIFwiKTtcbiAgfVxufTtcblxuZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UgPSBmdW5jdGlvbihlKSB7XG4gIHZhciAkdGFyZ2V0LCB2YWwsIHdoaWNoO1xuICB3aGljaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gIGlmICghKHdoaWNoID09PSAnLycgfHwgd2hpY2ggPT09ICcgJykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgdmFsID0gJHRhcmdldC52YWwoKTtcbiAgaWYgKC9eXFxkJC8udGVzdCh2YWwpICYmIHZhbCAhPT0gJzAnKSB7XG4gICAgcmV0dXJuICR0YXJnZXQudmFsKFwiMFwiICsgdmFsICsgXCIgLyBcIik7XG4gIH1cbn07XG5cbmZvcm1hdEJhY2tFeHBpcnkgPSBmdW5jdGlvbihlKSB7XG4gIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICBpZiAoZS53aGljaCAhPT0gOCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoKCR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPSBudWxsKSAmJiAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT09IHZhbHVlLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoL1xcZFxcc1xcL1xccyQvLnRlc3QodmFsdWUpKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZFxcc1xcL1xccyQvLCAnJykpO1xuICAgIH0pO1xuICB9XG59O1xuXG5yZUZvcm1hdENWQyA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgIHZhbHVlID0gcmVwbGFjZUZ1bGxXaWR0aENoYXJzKHZhbHVlKTtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJykuc2xpY2UoMCwgNCk7XG4gICAgcmV0dXJuIHNhZmVWYWwodmFsdWUsICR0YXJnZXQpO1xuICB9KTtcbn07XG5cbnJlc3RyaWN0TnVtZXJpYyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIGlucHV0O1xuICBpZiAoZS5tZXRhS2V5IHx8IGUuY3RybEtleSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChlLndoaWNoID09PSAzMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZS53aGljaCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChlLndoaWNoIDwgMzMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpbnB1dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gIHJldHVybiAhIS9bXFxkXFxzXS8udGVzdChpbnB1dCk7XG59O1xuXG5yZXN0cmljdENhcmROdW1iZXIgPSBmdW5jdGlvbihlKSB7XG4gIHZhciAkdGFyZ2V0LCBjYXJkLCBkaWdpdCwgdmFsdWU7XG4gICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaGFzVGV4dFNlbGVjdGVkKCR0YXJnZXQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhbHVlID0gKCR0YXJnZXQudmFsKCkgKyBkaWdpdCkucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgY2FyZCA9IGNhcmRGcm9tTnVtYmVyKHZhbHVlKTtcbiAgaWYgKGNhcmQpIHtcbiAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPD0gMTY7XG4gIH1cbn07XG5cbnJlc3RyaWN0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbHVlO1xuICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGhhc1RleHRTZWxlY3RlZCgkdGFyZ2V0KSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YWx1ZSA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICBpZiAodmFsdWUubGVuZ3RoID4gNikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxucmVzdHJpY3RDVkMgPSBmdW5jdGlvbihlKSB7XG4gIHZhciAkdGFyZ2V0LCBkaWdpdCwgdmFsO1xuICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGhhc1RleHRTZWxlY3RlZCgkdGFyZ2V0KSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YWwgPSAkdGFyZ2V0LnZhbCgpICsgZGlnaXQ7XG4gIHJldHVybiB2YWwubGVuZ3RoIDw9IDQ7XG59O1xuXG5zZXRDYXJkVHlwZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyICR0YXJnZXQsIGFsbFR5cGVzLCBjYXJkLCBjYXJkVHlwZSwgdmFsO1xuICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICB2YWwgPSAkdGFyZ2V0LnZhbCgpO1xuICBjYXJkVHlwZSA9ICQucGF5bWVudC5jYXJkVHlwZSh2YWwpIHx8ICd1bmtub3duJztcbiAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKGNhcmRUeXBlKSkge1xuICAgIGFsbFR5cGVzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIGxlbiwgcmVzdWx0cztcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGNhcmRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNhcmQgPSBjYXJkc1tpXTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGNhcmQudHlwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9KSgpO1xuICAgICR0YXJnZXQucmVtb3ZlQ2xhc3MoJ3Vua25vd24nKTtcbiAgICAkdGFyZ2V0LnJlbW92ZUNsYXNzKGFsbFR5cGVzLmpvaW4oJyAnKSk7XG4gICAgJHRhcmdldC5hZGRDbGFzcyhjYXJkVHlwZSk7XG4gICAgJHRhcmdldC50b2dnbGVDbGFzcygnaWRlbnRpZmllZCcsIGNhcmRUeXBlICE9PSAndW5rbm93bicpO1xuICAgIHJldHVybiAkdGFyZ2V0LnRyaWdnZXIoJ3BheW1lbnQuY2FyZFR5cGUnLCBjYXJkVHlwZSk7XG4gIH1cbn07XG5cbiQucGF5bWVudC5mbi5mb3JtYXRDYXJkQ1ZDID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3ROdW1lcmljKTtcbiAgdGhpcy5vbigna2V5cHJlc3MnLCByZXN0cmljdENWQyk7XG4gIHRoaXMub24oJ3Bhc3RlJywgcmVGb3JtYXRDVkMpO1xuICB0aGlzLm9uKCdjaGFuZ2UnLCByZUZvcm1hdENWQyk7XG4gIHRoaXMub24oJ2lucHV0JywgcmVGb3JtYXRDVkMpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbiQucGF5bWVudC5mbi5mb3JtYXRDYXJkRXhwaXJ5ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3ROdW1lcmljKTtcbiAgdGhpcy5vbigna2V5cHJlc3MnLCByZXN0cmljdEV4cGlyeSk7XG4gIHRoaXMub24oJ2tleXByZXNzJywgZm9ybWF0RXhwaXJ5KTtcbiAgdGhpcy5vbigna2V5cHJlc3MnLCBmb3JtYXRGb3J3YXJkU2xhc2hBbmRTcGFjZSk7XG4gIHRoaXMub24oJ2tleXByZXNzJywgZm9ybWF0Rm9yd2FyZEV4cGlyeSk7XG4gIHRoaXMub24oJ2tleWRvd24nLCBmb3JtYXRCYWNrRXhwaXJ5KTtcbiAgdGhpcy5vbignY2hhbmdlJywgcmVGb3JtYXRFeHBpcnkpO1xuICB0aGlzLm9uKCdpbnB1dCcsIHJlRm9ybWF0RXhwaXJ5KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4kLnBheW1lbnQuZm4uZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0TnVtZXJpYyk7XG4gIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3RDYXJkTnVtYmVyKTtcbiAgdGhpcy5vbigna2V5cHJlc3MnLCBmb3JtYXRDYXJkTnVtYmVyKTtcbiAgdGhpcy5vbigna2V5ZG93bicsIGZvcm1hdEJhY2tDYXJkTnVtYmVyKTtcbiAgdGhpcy5vbigna2V5dXAnLCBzZXRDYXJkVHlwZSk7XG4gIHRoaXMub24oJ3Bhc3RlJywgcmVGb3JtYXRDYXJkTnVtYmVyKTtcbiAgdGhpcy5vbignY2hhbmdlJywgcmVGb3JtYXRDYXJkTnVtYmVyKTtcbiAgdGhpcy5vbignaW5wdXQnLCByZUZvcm1hdENhcmROdW1iZXIpO1xuICB0aGlzLm9uKCdpbnB1dCcsIHNldENhcmRUeXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4kLnBheW1lbnQuZm4ucmVzdHJpY3ROdW1lcmljID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3ROdW1lcmljKTtcbiAgdGhpcy5vbigncGFzdGUnLCByZUZvcm1hdE51bWVyaWMpO1xuICB0aGlzLm9uKCdjaGFuZ2UnLCByZUZvcm1hdE51bWVyaWMpO1xuICB0aGlzLm9uKCdpbnB1dCcsIHJlRm9ybWF0TnVtZXJpYyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuJC5wYXltZW50LmZuLmNhcmRFeHBpcnlWYWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICQucGF5bWVudC5jYXJkRXhwaXJ5VmFsKCQodGhpcykudmFsKCkpO1xufTtcblxuJC5wYXltZW50LmNhcmRFeHBpcnlWYWwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgbW9udGgsIHByZWZpeCwgcmVmLCB5ZWFyO1xuICByZWYgPSB2YWx1ZS5zcGxpdCgvW1xcc1xcL10rLywgMiksIG1vbnRoID0gcmVmWzBdLCB5ZWFyID0gcmVmWzFdO1xuICBpZiAoKHllYXIgIT0gbnVsbCA/IHllYXIubGVuZ3RoIDogdm9pZCAwKSA9PT0gMiAmJiAvXlxcZCskLy50ZXN0KHllYXIpKSB7XG4gICAgcHJlZml4ID0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpO1xuICAgIHByZWZpeCA9IHByZWZpeC50b1N0cmluZygpLnNsaWNlKDAsIDIpO1xuICAgIHllYXIgPSBwcmVmaXggKyB5ZWFyO1xuICB9XG4gIG1vbnRoID0gcGFyc2VJbnQobW9udGgsIDEwKTtcbiAgeWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcbiAgcmV0dXJuIHtcbiAgICBtb250aDogbW9udGgsXG4gICAgeWVhcjogeWVhclxuICB9O1xufTtcblxuJC5wYXltZW50LnZhbGlkYXRlQ2FyZE51bWJlciA9IGZ1bmN0aW9uKG51bSkge1xuICB2YXIgY2FyZCwgcmVmO1xuICBudW0gPSAobnVtICsgJycpLnJlcGxhY2UoL1xccyt8LS9nLCAnJyk7XG4gIGlmICghL15cXGQrJC8udGVzdChudW0pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNhcmQgPSBjYXJkRnJvbU51bWJlcihudW0pO1xuICBpZiAoIWNhcmQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChyZWYgPSBudW0ubGVuZ3RoLCBpbmRleE9mLmNhbGwoY2FyZC5sZW5ndGgsIHJlZikgPj0gMCkgJiYgKGNhcmQubHVobiA9PT0gZmFsc2UgfHwgbHVobkNoZWNrKG51bSkpO1xufTtcblxuJC5wYXltZW50LnZhbGlkYXRlQ2FyZEV4cGlyeSA9IGZ1bmN0aW9uKG1vbnRoLCB5ZWFyKSB7XG4gIHZhciBjdXJyZW50VGltZSwgZXhwaXJ5LCByZWY7XG4gIGlmICh0eXBlb2YgbW9udGggPT09ICdvYmplY3QnICYmICdtb250aCcgaW4gbW9udGgpIHtcbiAgICByZWYgPSBtb250aCwgbW9udGggPSByZWYubW9udGgsIHllYXIgPSByZWYueWVhcjtcbiAgfVxuICBpZiAoIShtb250aCAmJiB5ZWFyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBtb250aCA9ICQudHJpbShtb250aCk7XG4gIHllYXIgPSAkLnRyaW0oeWVhcik7XG4gIGlmICghL15cXGQrJC8udGVzdChtb250aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCEvXlxcZCskLy50ZXN0KHllYXIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICghKCgxIDw9IG1vbnRoICYmIG1vbnRoIDw9IDEyKSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHllYXIubGVuZ3RoID09PSAyKSB7XG4gICAgaWYgKHllYXIgPCA3MCkge1xuICAgICAgeWVhciA9IFwiMjBcIiArIHllYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHllYXIgPSBcIjE5XCIgKyB5ZWFyO1xuICAgIH1cbiAgfVxuICBpZiAoeWVhci5sZW5ndGggIT09IDQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZXhwaXJ5ID0gbmV3IERhdGUoeWVhciwgbW9udGgpO1xuICBjdXJyZW50VGltZSA9IG5ldyBEYXRlO1xuICBleHBpcnkuc2V0TW9udGgoZXhwaXJ5LmdldE1vbnRoKCkgLSAxKTtcbiAgZXhwaXJ5LnNldE1vbnRoKGV4cGlyeS5nZXRNb250aCgpICsgMSwgMSk7XG4gIHJldHVybiBleHBpcnkgPiBjdXJyZW50VGltZTtcbn07XG5cbiQucGF5bWVudC52YWxpZGF0ZUNhcmRDVkMgPSBmdW5jdGlvbihjdmMsIHR5cGUpIHtcbiAgdmFyIGNhcmQsIHJlZjtcbiAgY3ZjID0gJC50cmltKGN2Yyk7XG4gIGlmICghL15cXGQrJC8udGVzdChjdmMpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNhcmQgPSBjYXJkRnJvbVR5cGUodHlwZSk7XG4gIGlmIChjYXJkICE9IG51bGwpIHtcbiAgICByZXR1cm4gcmVmID0gY3ZjLmxlbmd0aCwgaW5kZXhPZi5jYWxsKGNhcmQuY3ZjTGVuZ3RoLCByZWYpID49IDA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGN2Yy5sZW5ndGggPj0gMyAmJiBjdmMubGVuZ3RoIDw9IDQ7XG4gIH1cbn07XG5cbiQucGF5bWVudC5jYXJkVHlwZSA9IGZ1bmN0aW9uKG51bSkge1xuICB2YXIgcmVmO1xuICBpZiAoIW51bSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAoKHJlZiA9IGNhcmRGcm9tTnVtYmVyKG51bSkpICE9IG51bGwgPyByZWYudHlwZSA6IHZvaWQgMCkgfHwgbnVsbDtcbn07XG5cbiQucGF5bWVudC5mb3JtYXRDYXJkTnVtYmVyID0gZnVuY3Rpb24obnVtKSB7XG4gIHZhciBjYXJkLCBncm91cHMsIHJlZiwgdXBwZXJMZW5ndGg7XG4gIG51bSA9IG51bS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICBjYXJkID0gY2FyZEZyb21OdW1iZXIobnVtKTtcbiAgaWYgKCFjYXJkKSB7XG4gICAgcmV0dXJuIG51bTtcbiAgfVxuICB1cHBlckxlbmd0aCA9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICBudW0gPSBudW0uc2xpY2UoMCwgdXBwZXJMZW5ndGgpO1xuICBpZiAoY2FyZC5mb3JtYXQuZ2xvYmFsKSB7XG4gICAgcmV0dXJuIChyZWYgPSBudW0ubWF0Y2goY2FyZC5mb3JtYXQpKSAhPSBudWxsID8gcmVmLmpvaW4oJyAnKSA6IHZvaWQgMDtcbiAgfSBlbHNlIHtcbiAgICBncm91cHMgPSBjYXJkLmZvcm1hdC5leGVjKG51bSk7XG4gICAgaWYgKGdyb3VwcyA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGdyb3Vwcy5zaGlmdCgpO1xuICAgIGdyb3VwcyA9ICQuZ3JlcChncm91cHMsIGZ1bmN0aW9uKG4pIHtcbiAgICAgIHJldHVybiBuO1xuICAgIH0pO1xuICAgIHJldHVybiBncm91cHMuam9pbignICcpO1xuICB9XG59O1xuXG4kLnBheW1lbnQuZm9ybWF0RXhwaXJ5ID0gZnVuY3Rpb24oZXhwaXJ5KSB7XG4gIHZhciBtb24sIHBhcnRzLCBzZXAsIHllYXI7XG4gIHBhcnRzID0gZXhwaXJ5Lm1hdGNoKC9eXFxEKihcXGR7MSwyfSkoXFxEKyk/KFxcZHsxLDR9KT8vKTtcbiAgaWYgKCFwYXJ0cykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBtb24gPSBwYXJ0c1sxXSB8fCAnJztcbiAgc2VwID0gcGFydHNbMl0gfHwgJyc7XG4gIHllYXIgPSBwYXJ0c1szXSB8fCAnJztcbiAgaWYgKHllYXIubGVuZ3RoID4gMCkge1xuICAgIHNlcCA9ICcgLyAnO1xuICB9IGVsc2UgaWYgKHNlcCA9PT0gJyAvJykge1xuICAgIG1vbiA9IG1vbi5zdWJzdHJpbmcoMCwgMSk7XG4gICAgc2VwID0gJyc7XG4gIH0gZWxzZSBpZiAobW9uLmxlbmd0aCA9PT0gMiB8fCBzZXAubGVuZ3RoID4gMCkge1xuICAgIHNlcCA9ICcgLyAnO1xuICB9IGVsc2UgaWYgKG1vbi5sZW5ndGggPT09IDEgJiYgKG1vbiAhPT0gJzAnICYmIG1vbiAhPT0gJzEnKSkge1xuICAgIG1vbiA9IFwiMFwiICsgbW9uO1xuICAgIHNlcCA9ICcgLyAnO1xuICB9XG4gIHJldHVybiBtb24gKyBzZXAgKyB5ZWFyO1xufTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
