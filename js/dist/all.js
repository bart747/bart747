(function(){var t,e,n,r,a,o,i,l,u,s,c,h,p,g,f,v,d,m,y,C,T,w,$,D,S=[].slice,k=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=window.jQuery||window.Zepto||window.$,t.payment={},t.payment.fn={},t.fn.payment=function(){var e,n;return n=arguments[0],e=2<=arguments.length?S.call(arguments,1):[],t.payment.fn[n].apply(this,e)},a=/(\d{1,4})/g,t.payment.cards=r=[{type:"visaelectron",patterns:[4026,417500,4405,4508,4844,4913,4917],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",patterns:[5018,502,503,56,58,639,6220,67],format:a,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:a,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:a,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:a,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:a,length:[16],cvcLength:[3],luhn:!0}],e=function(t){var e,n,a,o,i,l,u,s;for(t=(t+"").replace(/\D/g,""),n=0,o=r.length;o>n;n++)for(e=r[n],s=e.patterns,a=0,i=s.length;i>a;a++)if(u=s[a],l=u+"",t.substr(0,l.length)===l)return e},n=function(t){var e,n,a;for(n=0,a=r.length;a>n;n++)if(e=r[n],e.type===t)return e},p=function(t){var e,n,r,a,o,i;for(o=!0,i=0,n=(t+"").split("").reverse(),r=0,a=n.length;a>r;r++)e=n[r],e=parseInt(e,10),(o=!o)&&(e*=2),e>9&&(e-=9),i+=e;return i%10===0},h=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(e=document.selection)?e.createRange:void 0)&&document.selection.createRange().text?!0:!1},$=function(t,e){var n,r,a,o;try{n=e.prop("selectionStart")}catch(a){r=a,n=null}return o=e.val(),e.val(t),null!==n&&e.is(":focus")?(n===o.length&&(n=t.length),e.prop("selectionStart",n),e.prop("selectionEnd",n)):void 0},m=function(t){var e,n,r,a,o,i,l,u;for(null==t&&(t=""),r="０１２３４５６７８９",a="0123456789",u="",e=t.split(""),o=0,l=e.length;l>o;o++)n=e[o],i=r.indexOf(n),i>-1&&(n=a[i]),u+=n;return u},d=function(e){return setTimeout(function(){var n,r;return n=t(e.currentTarget),r=n.val(),r=m(r),r=r.replace(/\D/g,""),$(r,n)})},f=function(e){return setTimeout(function(){var n,r;return n=t(e.currentTarget),r=n.val(),r=m(r),r=t.payment.formatCardNumber(r),$(r,n)})},l=function(n){var r,a,o,i,l,u,s;return o=String.fromCharCode(n.which),!/^\d+$/.test(o)||(r=t(n.currentTarget),s=r.val(),a=e(s+o),i=(s.replace(/\D/g,"")+o).length,u=16,a&&(u=a.length[a.length.length-1]),i>=u||null!=r.prop("selectionStart")&&r.prop("selectionStart")!==s.length)?void 0:(l=a&&"amex"===a.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,l.test(s)?(n.preventDefault(),setTimeout(function(){return r.val(s+" "+o)})):l.test(s+o)?(n.preventDefault(),setTimeout(function(){return r.val(s+o+" ")})):void 0)},o=function(e){var n,r;return n=t(e.currentTarget),r=n.val(),8!==e.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==r.length?void 0:/\d\s$/.test(r)?(e.preventDefault(),setTimeout(function(){return n.val(r.replace(/\d\s$/,""))})):/\s\d?$/.test(r)?(e.preventDefault(),setTimeout(function(){return n.val(r.replace(/\d$/,""))})):void 0},v=function(e){return setTimeout(function(){var n,r;return n=t(e.currentTarget),r=n.val(),r=m(r),r=t.payment.formatExpiry(r),$(r,n)})},u=function(e){var n,r,a;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(n=t(e.currentTarget),a=n.val()+r,/^\d$/.test(a)&&"0"!==a&&"1"!==a?(e.preventDefault(),setTimeout(function(){return n.val("0"+a+" / ")})):/^\d\d$/.test(a)?(e.preventDefault(),setTimeout(function(){var t,e;return t=parseInt(a[0],10),e=parseInt(a[1],10),e>2&&0!==t?n.val("0"+t+" / "+e):n.val(a+" / ")})):void 0):void 0},s=function(e){var n,r,a;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(n=t(e.currentTarget),a=n.val(),/^\d\d$/.test(a)?n.val(a+" / "):void 0):void 0},c=function(e){var n,r,a;return a=String.fromCharCode(e.which),"/"===a||" "===a?(n=t(e.currentTarget),r=n.val(),/^\d$/.test(r)&&"0"!==r?n.val("0"+r+" / "):void 0):void 0},i=function(e){var n,r;return n=t(e.currentTarget),r=n.val(),8!==e.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==r.length?void 0:/\d\s\/\s$/.test(r)?(e.preventDefault(),setTimeout(function(){return n.val(r.replace(/\d\s\/\s$/,""))})):void 0},g=function(e){return setTimeout(function(){var n,r;return n=t(e.currentTarget),r=n.val(),r=m(r),r=r.replace(/\D/g,"").slice(0,4),$(r,n)})},w=function(t){var e;return t.metaKey||t.ctrlKey?!0:32===t.which?!1:0===t.which?!0:t.which<33?!0:(e=String.fromCharCode(t.which),!!/[\d\s]/.test(e))},C=function(n){var r,a,o,i;return r=t(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!h(r)?(i=(r.val()+o).replace(/\D/g,""),a=e(i),a?i.length<=a.length[a.length.length-1]:i.length<=16):void 0},T=function(e){var n,r,a;return n=t(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!h(n)?(a=n.val()+r,a=a.replace(/\D/g,""),a.length>6?!1:void 0):void 0},y=function(e){var n,r,a;return n=t(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!h(n)?(a=n.val()+r,a.length<=4):void 0},D=function(e){var n,a,o,i,l;return n=t(e.currentTarget),l=n.val(),i=t.payment.cardType(l)||"unknown",n.hasClass(i)?void 0:(a=function(){var t,e,n;for(n=[],t=0,e=r.length;e>t;t++)o=r[t],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(a.join(" ")),n.addClass(i),n.toggleClass("identified","unknown"!==i),n.trigger("payment.cardType",i))},t.payment.fn.formatCardCVC=function(){return this.on("keypress",w),this.on("keypress",y),this.on("paste",g),this.on("change",g),this.on("input",g),this},t.payment.fn.formatCardExpiry=function(){return this.on("keypress",w),this.on("keypress",T),this.on("keypress",u),this.on("keypress",c),this.on("keypress",s),this.on("keydown",i),this.on("change",v),this.on("input",v),this},t.payment.fn.formatCardNumber=function(){return this.on("keypress",w),this.on("keypress",C),this.on("keypress",l),this.on("keydown",o),this.on("keyup",D),this.on("paste",f),this.on("change",f),this.on("input",f),this.on("input",D),this},t.payment.fn.restrictNumeric=function(){return this.on("keypress",w),this.on("paste",d),this.on("change",d),this.on("input",d),this},t.payment.fn.cardExpiryVal=function(){return t.payment.cardExpiryVal(t(this).val())},t.payment.cardExpiryVal=function(t){var e,n,r,a;return r=t.split(/[\s\/]+/,2),e=r[0],a=r[1],2===(null!=a?a.length:void 0)&&/^\d+$/.test(a)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),a=n+a),e=parseInt(e,10),a=parseInt(a,10),{month:e,year:a}},t.payment.validateCardNumber=function(t){var n,r;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(n=e(t),n?(r=t.length,k.call(n.length,r)>=0&&(n.luhn===!1||p(t))):!1):!1},t.payment.validateCardExpiry=function(e,n){var r,a,o;return"object"==typeof e&&"month"in e&&(o=e,e=o.month,n=o.year),e&&n?(e=t.trim(e),n=t.trim(n),/^\d+$/.test(e)&&/^\d+$/.test(n)&&e>=1&&12>=e?(2===n.length&&(n=70>n?"20"+n:"19"+n),4!==n.length?!1:(a=new Date(n,e),r=new Date,a.setMonth(a.getMonth()-1),a.setMonth(a.getMonth()+1,1),a>r)):!1):!1},t.payment.validateCardCVC=function(e,r){var a,o;return e=t.trim(e),/^\d+$/.test(e)?(a=n(r),null!=a?(o=e.length,k.call(a.cvcLength,o)>=0):e.length>=3&&e.length<=4):!1},t.payment.cardType=function(t){var n;return t?(null!=(n=e(t))?n.type:void 0)||null:null},t.payment.formatCardNumber=function(n){var r,a,o,i;return n=n.replace(/\D/g,""),(r=e(n))?(i=r.length[r.length.length-1],n=n.slice(0,i),r.format.global?null!=(o=n.match(r.format))?o.join(" "):void 0:(a=r.format.exec(n),null!=a?(a.shift(),a=t.grep(a,function(t){return t}),a.join(" ")):void 0)):n},t.payment.formatExpiry=function(t){var e,n,r,a;return(n=t.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(e=n[1]||"",r=n[2]||"",a=n[3]||"",a.length>0?r=" / ":" /"===r?(e=e.substring(0,1),r=""):2===e.length||r.length>0?r=" / ":1===e.length&&"0"!==e&&"1"!==e&&(e="0"+e,r=" / "),e+r+a):""}}).call(this);
"use strict";!function(){var e=document.getElementsByClassName("home"),s=document.getElementsByClassName("post"),t=document.getElementsByClassName("blog"),l=document.getElementsByClassName("link-home"),a=document.getElementsByClassName("link-blog");void 0!==e[0]?l[0].classList.add("link-active"):(void 0!==s[0]||void 0!==t[0])&&a[0].classList.add("link-active")}();
"use strict";!function(){function n(n){$(n).removeClass("input-success"),$(n).addClass("input-error")}function i(n){$(n).removeClass("input-error"),$(n).addClass("input-success")}function t(n,i,t){$(n).hasClass("input-error")&&($(i).addClass("hidden"),$(t).removeClass("hidden"))}function c(n,i,t){$(n).hasClass("input-success")&&($(i).removeClass("hidden"),$(t).addClass("hidden"))}function s(n,i,t){$(n).removeClass("input-error"),$(i).addClass("hidden"),$(t).addClass("hidden"),$(n).removeClass("input-success")}$(".cc-num-input").payment("formatCardNumber"),$(".cc-exp-input").payment("formatCardExpiry"),$(".cc-cvc-input").payment("formatCardCVC");var a={input:".cc-num-input",type:".cc-type",iconOk:".cc-num-icon-success",iconErr:".cc-num-icon-error"};!function(){function r(n){$(a.input).hasClass(n)&&$(a.type+"."+n).addClass("txt-highlight")}function o(){$(a.type).removeClass("txt-highlight")}function e(){var s=$(a.input).val(),r=$.payment.validateCardNumber(s);r===!0&&(i(a.input),c(a.input,a.iconOk,a.iconErr)),r===!1&&(n(a.input),t(a.input,a.iconOk,a.iconErr))}$(a.input).on("input",function(){$(this).val().length>1?(o(),r("visa"),r("mastercard"),r("amex"),r("discover"),$(this).hasClass("amex")&&17===$(this).val().length&&e(),$(this).hasClass("identified")&&19===$(this).val().length&&e(),$(this).hasClass("amex")&&$(this).val().length<17&&s(this,a.iconOk,a.iconErr),$(this).hasClass("amex")===!1&&$(this).val().length<19&&s(this,a.iconOk,a.iconErr),$(this).hasClass("unknown")&&(n(this),t(this,a.iconOk,a.iconErr))):(s(this,a.iconOk,a.iconErr),o())})}(),function(){function a(){var s=$(r.input).payment("cardExpiryVal"),a=$.payment.validateCardExpiry(s.month,s.year);a===!0&&(i(r.input),c(r.input,r.iconOk,r.iconErr)),a===!1&&(n(r.input),t(r.input,r.iconOk,r.iconErr))}var r={input:".cc-exp-input",iconOk:".cc-exp-icon-success",iconErr:".cc-exp-icon-error"};$(r.input).on("input",function(){7===$(this).val().length||9===$(this).val().length?a():s(this,r.iconOk,r.iconErr)})}(),function r(){function r(s){var a=$(o.input).val(),r=$.payment.validateCardCVC(a);r===!0&&(i(o.input),c(o.input,o.iconOk,o.iconErr)),r===!1&&(n(o.input),t(o.input,o.iconOk,o.iconErr))}var o={input:".cc-cvc-input",iconOk:".cc-cvc-icon-success",iconErr:".cc-cvc-icon-error"};$(o.input).on("input",function(){$(a.input).hasClass("amex")?$(o.input).val().length>3?r(this):s(this,o.iconOk,o.iconErr):3===$(this).val().length?r(this):s(this,o.iconOk,o.iconErr)})}()}();
"use strict";
"use strict";!function(){var e=(document.getElementsByClassName("home"),document.getElementsByClassName("post")),t=document.getElementsByClassName("blog"),s=(document.getElementsByClassName("link-home"),document.getElementsByClassName("link-blog"));window.onload=function(){(void 0!==e[0]||void 0!==t[0])&&s[0].classList.add("link-active")}}();
"use strict";!function(){function t(t){t.addEventListener("click",function(e){return t.classList.toggle("is-on")})}var e=document.getElementsByClassName("is-switchable"),s=[].slice.call(e);s.forEach(t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5wYXltZW50LmpzIiwiYmxvZ2xpbmtzLmpzIiwiY29tbWVyY2UuanMiLCJkb210dXQuanMiLCJsaW5rc3RhdGVzLmpzIiwic3dpdGNoLmpzIl0sIm5hbWVzIjpbIiQiLCJjYXJkRnJvbU51bWJlciIsImNhcmRGcm9tVHlwZSIsImNhcmRzIiwiZGVmYXVsdEZvcm1hdCIsImZvcm1hdEJhY2tDYXJkTnVtYmVyIiwiZm9ybWF0QmFja0V4cGlyeSIsImZvcm1hdENhcmROdW1iZXIiLCJmb3JtYXRFeHBpcnkiLCJmb3JtYXRGb3J3YXJkRXhwaXJ5IiwiZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UiLCJoYXNUZXh0U2VsZWN0ZWQiLCJsdWhuQ2hlY2siLCJyZUZvcm1hdENWQyIsInJlRm9ybWF0Q2FyZE51bWJlciIsInJlRm9ybWF0RXhwaXJ5IiwicmVGb3JtYXROdW1lcmljIiwicmVwbGFjZUZ1bGxXaWR0aENoYXJzIiwicmVzdHJpY3RDVkMiLCJyZXN0cmljdENhcmROdW1iZXIiLCJyZXN0cmljdEV4cGlyeSIsInJlc3RyaWN0TnVtZXJpYyIsInNhZmVWYWwiLCJzZXRDYXJkVHlwZSIsInNsaWNlIiwiaW5kZXhPZiIsIml0ZW0iLCJpIiwibCIsInRoaXMiLCJsZW5ndGgiLCJ3aW5kb3ciLCJqUXVlcnkiLCJaZXB0byIsInBheW1lbnQiLCJmbiIsImFyZ3MiLCJtZXRob2QiLCJhcmd1bWVudHMiLCJjYWxsIiwiYXBwbHkiLCJ0eXBlIiwicGF0dGVybnMiLCJmb3JtYXQiLCJjdmNMZW5ndGgiLCJsdWhuIiwibnVtIiwiY2FyZCIsImoiLCJsZW4iLCJsZW4xIiwicCIsInBhdHRlcm4iLCJyZWYiLCJyZXBsYWNlIiwic3Vic3RyIiwiZGlnaXQiLCJkaWdpdHMiLCJvZGQiLCJzdW0iLCJzcGxpdCIsInJldmVyc2UiLCJwYXJzZUludCIsIiR0YXJnZXQiLCJwcm9wIiwiZG9jdW1lbnQiLCJzZWxlY3Rpb24iLCJjcmVhdGVSYW5nZSIsInRleHQiLCJ2YWx1ZSIsImN1cnNvciIsImVycm9yIiwiZXJyb3IxIiwibGFzdCIsInZhbCIsImlzIiwic3RyIiwiY2hhcnMiLCJjaHIiLCJmdWxsV2lkdGgiLCJoYWxmV2lkdGgiLCJpZHgiLCJlIiwic2V0VGltZW91dCIsImN1cnJlbnRUYXJnZXQiLCJyZSIsInVwcGVyTGVuZ3RoIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwid2hpY2giLCJ0ZXN0IiwicHJldmVudERlZmF1bHQiLCJtMSIsIm0yIiwiaW5wdXQiLCJtZXRhS2V5IiwiY3RybEtleSIsImFsbFR5cGVzIiwiY2FyZFR5cGUiLCJoYXNDbGFzcyIsInJlc3VsdHMiLCJwdXNoIiwicmVtb3ZlQ2xhc3MiLCJqb2luIiwiYWRkQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsInRyaWdnZXIiLCJmb3JtYXRDYXJkQ1ZDIiwib24iLCJmb3JtYXRDYXJkRXhwaXJ5IiwiY2FyZEV4cGlyeVZhbCIsIm1vbnRoIiwicHJlZml4IiwieWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsInRvU3RyaW5nIiwidmFsaWRhdGVDYXJkTnVtYmVyIiwidmFsaWRhdGVDYXJkRXhwaXJ5IiwiY3VycmVudFRpbWUiLCJleHBpcnkiLCJ0cmltIiwic2V0TW9udGgiLCJnZXRNb250aCIsInZhbGlkYXRlQ2FyZENWQyIsImN2YyIsImdyb3VwcyIsImdsb2JhbCIsIm1hdGNoIiwiZXhlYyIsInNoaWZ0IiwiZ3JlcCIsIm4iLCJtb24iLCJwYXJ0cyIsInNlcCIsInN1YnN0cmluZyIsImhvbWVEaXYiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicG9zdERpdiIsImJsb2dEaXYiLCJob21lTGluayIsImJsb2dMaW5rIiwidW5kZWZpbmVkIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXJyIiwiYWRkT2siLCJzaG93SW5wdXRFcnJJY29uIiwiaWNvblN1YyIsImljb25FcnIiLCJzaG93SW5wdXRPa0ljb24iLCJyZXNldElucHV0IiwiY2FyZE51bSIsImljb25PayIsIm1hcmtDYXJkVHlwZSIsIm5hbWUiLCJyZXNldENhcmRUeXBlIiwidmFsaWRDYXJkTnVtIiwiY2FyZFZhbHVlIiwiY2FyZFZhbGlkIiwidmFsaWRFeHAiLCJleHBEYXRlIiwiY2FyZEV4cCIsImV4cFZhbGlkIiwiY3ZjQ2hlY2siLCJjdmNOdW0iLCJjYXJkQ1ZDIiwiY3ZjVmFsaWQiLCJvbmxvYWQiLCJhZGRMaXN0ZW5lciIsImVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidG9nZ2xlIiwic3dpdGNoRWxzIiwic3dpdGNoQXJyIiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6IkNBQ0EsV0FDRSxHQUFJQSxHQUFHQyxFQUFnQkMsRUFBY0MsRUFBT0MsRUFBZUMsRUFBc0JDLEVBQWtCQyxFQUFrQkMsRUFBY0MsRUFBcUJDLEVBQTRCQyxFQUFpQkMsRUFBV0MsRUFBYUMsRUFBb0JDLEVBQWdCQyxFQUFpQkMsRUFBdUJDLEVBQWFDLEVBQW9CQyxFQUFnQkMsRUFBaUJDLEVBQVNDLEVBQ2xYQyxLQUFXQSxNQUNYQyxLQUFhQSxTQUFXLFNBQVNDLEdBQVEsSUFBSyxHQUFJQyxHQUFJLEVBQUdDLEVBQUlDLEtBQUtDLE9BQVlGLEVBQUpELEVBQU9BLElBQU8sR0FBSUEsSUFBS0UsT0FBUUEsS0FBS0YsS0FBT0QsRUFBTSxNQUFPQyxFQUFLLE9BQU8sR0FFaEozQixHQUFJK0IsT0FBT0MsUUFBVUQsT0FBT0UsT0FBU0YsT0FBTy9CLEVBRTVDQSxFQUFFa0MsV0FFRmxDLEVBQUVrQyxRQUFRQyxNQUVWbkMsRUFBRW1DLEdBQUdELFFBQVUsV0FDYixHQUFJRSxHQUFNQyxDQUVWLE9BREFBLEdBQVNDLFVBQVUsR0FBSUYsRUFBTyxHQUFLRSxVQUFVUixPQUFTTixFQUFNZSxLQUFLRCxVQUFXLE1BQ3JFdEMsRUFBRWtDLFFBQVFDLEdBQUdFLEdBQVFHLE1BQU1YLEtBQU1PLElBRzFDaEMsRUFBZ0IsYUFFaEJKLEVBQUVrQyxRQUFRL0IsTUFBUUEsSUFFZHNDLEtBQU0sZUFDTkMsVUFBVyxLQUFNLE9BQVEsS0FBTSxLQUFNLEtBQU0sS0FBTSxNQUNqREMs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MS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciAkLCBjYXJkRnJvbU51bWJlciwgY2FyZEZyb21UeXBlLCBjYXJkcywgZGVmYXVsdEZvcm1hdCwgZm9ybWF0QmFja0NhcmROdW1iZXIsIGZvcm1hdEJhY2tFeHBpcnksIGZvcm1hdENhcmROdW1iZXIsIGZvcm1hdEV4cGlyeSwgZm9ybWF0Rm9yd2FyZEV4cGlyeSwgZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UsIGhhc1RleHRTZWxlY3RlZCwgbHVobkNoZWNrLCByZUZvcm1hdENWQywgcmVGb3JtYXRDYXJkTnVtYmVyLCByZUZvcm1hdEV4cGlyeSwgcmVGb3JtYXROdW1lcmljLCByZXBsYWNlRnVsbFdpZHRoQ2hhcnMsIHJlc3RyaWN0Q1ZDLCByZXN0cmljdENhcmROdW1iZXIsIHJlc3RyaWN0RXhwaXJ5LCByZXN0cmljdE51bWVyaWMsIHNhZmVWYWwsIHNldENhcmRUeXBlLFxuICAgIHNsaWNlID0gW10uc2xpY2UsXG4gICAgaW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9O1xuXG4gICQgPSB3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byB8fCB3aW5kb3cuJDtcblxuICAkLnBheW1lbnQgPSB7fTtcblxuICAkLnBheW1lbnQuZm4gPSB7fTtcblxuICAkLmZuLnBheW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncywgbWV0aG9kO1xuICAgIG1ldGhvZCA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIHJldHVybiAkLnBheW1lbnQuZm5bbWV0aG9kXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfTtcblxuICBkZWZhdWx0Rm9ybWF0ID0gLyhcXGR7MSw0fSkvZztcblxuICAkLnBheW1lbnQuY2FyZHMgPSBjYXJkcyA9IFtcbiAgICB7XG4gICAgICB0eXBlOiAndmlzYWVsZWN0cm9uJyxcbiAgICAgIHBhdHRlcm5zOiBbNDAyNiwgNDE3NTAwLCA0NDA1LCA0NTA4LCA0ODQ0LCA0OTEzLCA0OTE3XSxcbiAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzE2XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdtYWVzdHJvJyxcbiAgICAgIHBhdHRlcm5zOiBbNTAxOCwgNTAyLCA1MDMsIDU2LCA1OCwgNjM5LCA2MjIwLCA2N10sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTldLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ2ZvcmJydWdzZm9yZW5pbmdlbicsXG4gICAgICBwYXR0ZXJuczogWzYwMF0sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnZGFua29ydCcsXG4gICAgICBwYXR0ZXJuczogWzUwMTldLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTZdLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiB0cnVlXG4gICAgfSwge1xuICAgICAgdHlwZTogJ3Zpc2EnLFxuICAgICAgcGF0dGVybnM6IFs0XSxcbiAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICAgIGxlbmd0aDogWzEzLCAxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnbWFzdGVyY2FyZCcsXG4gICAgICBwYXR0ZXJuczogWzUxLCA1MiwgNTMsIDU0LCA1NSwgMjIsIDIzLCAyNCwgMjUsIDI2LCAyN10sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnYW1leCcsXG4gICAgICBwYXR0ZXJuczogWzM0LCAzN10sXG4gICAgICBmb3JtYXQ6IC8oXFxkezEsNH0pKFxcZHsxLDZ9KT8oXFxkezEsNX0pPy8sXG4gICAgICBsZW5ndGg6IFsxNV0sXG4gICAgICBjdmNMZW5ndGg6IFszLCA0XSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAnZGluZXJzY2x1YicsXG4gICAgICBwYXR0ZXJuczogWzMwLCAzNiwgMzgsIDM5XSxcbiAgICAgIGZvcm1hdDogLyhcXGR7MSw0fSkoXFxkezEsNn0pPyhcXGR7MSw0fSk/LyxcbiAgICAgIGxlbmd0aDogWzE0XSxcbiAgICAgIGN2Y0xlbmd0aDogWzNdLFxuICAgICAgbHVobjogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdkaXNjb3ZlcicsXG4gICAgICBwYXR0ZXJuczogWzYwLCA2NCwgNjUsIDYyMl0sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9LCB7XG4gICAgICB0eXBlOiAndW5pb25wYXknLFxuICAgICAgcGF0dGVybnM6IFs2MiwgODhdLFxuICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgbGVuZ3RoOiBbMTYsIDE3LCAxOCwgMTldLFxuICAgICAgY3ZjTGVuZ3RoOiBbM10sXG4gICAgICBsdWhuOiBmYWxzZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdqY2InLFxuICAgICAgcGF0dGVybnM6IFszNV0sXG4gICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgICBsZW5ndGg6IFsxNl0sXG4gICAgICBjdmNMZW5ndGg6IFszXSxcbiAgICAgIGx1aG46IHRydWVcbiAgICB9XG4gIF07XG5cbiAgY2FyZEZyb21OdW1iZXIgPSBmdW5jdGlvbihudW0pIHtcbiAgICB2YXIgY2FyZCwgaSwgaiwgbGVuLCBsZW4xLCBwLCBwYXR0ZXJuLCByZWY7XG4gICAgbnVtID0gKG51bSArICcnKS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IGNhcmRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjYXJkID0gY2FyZHNbaV07XG4gICAgICByZWYgPSBjYXJkLnBhdHRlcm5zO1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHJlZi5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcbiAgICAgICAgcGF0dGVybiA9IHJlZltqXTtcbiAgICAgICAgcCA9IHBhdHRlcm4gKyAnJztcbiAgICAgICAgaWYgKG51bS5zdWJzdHIoMCwgcC5sZW5ndGgpID09PSBwKSB7XG4gICAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY2FyZEZyb21UeXBlID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBjYXJkLCBpLCBsZW47XG4gICAgZm9yIChpID0gMCwgbGVuID0gY2FyZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNhcmQgPSBjYXJkc1tpXTtcbiAgICAgIGlmIChjYXJkLnR5cGUgPT09IHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGx1aG5DaGVjayA9IGZ1bmN0aW9uKG51bSkge1xuICAgIHZhciBkaWdpdCwgZGlnaXRzLCBpLCBsZW4sIG9kZCwgc3VtO1xuICAgIG9kZCA9IHRydWU7XG4gICAgc3VtID0gMDtcbiAgICBkaWdpdHMgPSAobnVtICsgJycpLnNwbGl0KCcnKS5yZXZlcnNlKCk7XG4gICAgZm9yIChpID0gMCwgbGVuID0gZGlnaXRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBkaWdpdCA9IGRpZ2l0c1tpXTtcbiAgICAgIGRpZ2l0ID0gcGFyc2VJbnQoZGlnaXQsIDEwKTtcbiAgICAgIGlmICgob2RkID0gIW9kZCkpIHtcbiAgICAgICAgZGlnaXQgKj0gMjtcbiAgICAgIH1cbiAgICAgIGlmIChkaWdpdCA+IDkpIHtcbiAgICAgICAgZGlnaXQgLT0gOTtcbiAgICAgIH1cbiAgICAgIHN1bSArPSBkaWdpdDtcbiAgICB9XG4gICAgcmV0dXJuIHN1bSAlIDEwID09PSAwO1xuICB9O1xuXG4gIGhhc1RleHRTZWxlY3RlZCA9IGZ1bmN0aW9uKCR0YXJnZXQpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICgoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25FbmQnKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50ICE9PSBudWxsID8gKHJlZiA9IGRvY3VtZW50LnNlbGVjdGlvbikgIT0gbnVsbCA/IHJlZi5jcmVhdGVSYW5nZSA6IHZvaWQgMCA6IHZvaWQgMCkgIT0gbnVsbCkge1xuICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBzYWZlVmFsID0gZnVuY3Rpb24odmFsdWUsICR0YXJnZXQpIHtcbiAgICB2YXIgY3Vyc29yLCBlcnJvciwgZXJyb3IxLCBsYXN0O1xuICAgIHRyeSB7XG4gICAgICBjdXJzb3IgPSAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICBlcnJvciA9IGVycm9yMTtcbiAgICAgIGN1cnNvciA9IG51bGw7XG4gICAgfVxuICAgIGxhc3QgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICR0YXJnZXQudmFsKHZhbHVlKTtcbiAgICBpZiAoY3Vyc29yICE9PSBudWxsICYmICR0YXJnZXQuaXMoXCI6Zm9jdXNcIikpIHtcbiAgICAgIGlmIChjdXJzb3IgPT09IGxhc3QubGVuZ3RoKSB7XG4gICAgICAgIGN1cnNvciA9IHZhbHVlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnLCBjdXJzb3IpO1xuICAgICAgcmV0dXJuICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uRW5kJywgY3Vyc29yKTtcbiAgICB9XG4gIH07XG5cbiAgcmVwbGFjZUZ1bGxXaWR0aENoYXJzID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgdmFyIGNoYXJzLCBjaHIsIGZ1bGxXaWR0aCwgaGFsZldpZHRoLCBpLCBpZHgsIGxlbiwgdmFsdWU7XG4gICAgaWYgKHN0ciA9PSBudWxsKSB7XG4gICAgICBzdHIgPSAnJztcbiAgICB9XG4gICAgZnVsbFdpZHRoID0gJ1xcdWZmMTBcXHVmZjExXFx1ZmYxMlxcdWZmMTNcXHVmZjE0XFx1ZmYxNVxcdWZmMTZcXHVmZjE3XFx1ZmYxOFxcdWZmMTknO1xuICAgIGhhbGZXaWR0aCA9ICcwMTIzNDU2Nzg5JztcbiAgICB2YWx1ZSA9ICcnO1xuICAgIGNoYXJzID0gc3RyLnNwbGl0KCcnKTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBjaGFycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY2hyID0gY2hhcnNbaV07XG4gICAgICBpZHggPSBmdWxsV2lkdGguaW5kZXhPZihjaHIpO1xuICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgIGNociA9IGhhbGZXaWR0aFtpZHhdO1xuICAgICAgfVxuICAgICAgdmFsdWUgKz0gY2hyO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgcmVGb3JtYXROdW1lcmljID0gZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICAgIHZhbHVlID0gcmVwbGFjZUZ1bGxXaWR0aENoYXJzKHZhbHVlKTtcbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgIHJldHVybiBzYWZlVmFsKHZhbHVlLCAkdGFyZ2V0KTtcbiAgICB9KTtcbiAgfTtcblxuICByZUZvcm1hdENhcmROdW1iZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJHRhcmdldCwgdmFsdWU7XG4gICAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgdmFsdWUgPSByZXBsYWNlRnVsbFdpZHRoQ2hhcnModmFsdWUpO1xuICAgICAgdmFsdWUgPSAkLnBheW1lbnQuZm9ybWF0Q2FyZE51bWJlcih2YWx1ZSk7XG4gICAgICByZXR1cm4gc2FmZVZhbCh2YWx1ZSwgJHRhcmdldCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgY2FyZCwgZGlnaXQsIGxlbmd0aCwgcmUsIHVwcGVyTGVuZ3RoLCB2YWx1ZTtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICBjYXJkID0gY2FyZEZyb21OdW1iZXIodmFsdWUgKyBkaWdpdCk7XG4gICAgbGVuZ3RoID0gKHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJykgKyBkaWdpdCkubGVuZ3RoO1xuICAgIHVwcGVyTGVuZ3RoID0gMTY7XG4gICAgaWYgKGNhcmQpIHtcbiAgICAgIHVwcGVyTGVuZ3RoID0gY2FyZC5sZW5ndGhbY2FyZC5sZW5ndGgubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGlmIChsZW5ndGggPj0gdXBwZXJMZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCgkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT0gbnVsbCkgJiYgJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNhcmQgJiYgY2FyZC50eXBlID09PSAnYW1leCcpIHtcbiAgICAgIHJlID0gL14oXFxkezR9fFxcZHs0fVxcc1xcZHs2fSkkLztcbiAgICB9IGVsc2Uge1xuICAgICAgcmUgPSAvKD86XnxcXHMpKFxcZHs0fSkkLztcbiAgICB9XG4gICAgaWYgKHJlLnRlc3QodmFsdWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgJyAnICsgZGlnaXQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZS50ZXN0KHZhbHVlICsgZGlnaXQpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlICsgZGlnaXQgKyAnICcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZvcm1hdEJhY2tDYXJkTnVtYmVyID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCB2YWx1ZTtcbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICBpZiAoZS53aGljaCAhPT0gOCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoKCR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPSBudWxsKSAmJiAkdGFyZ2V0LnByb3AoJ3NlbGVjdGlvblN0YXJ0JykgIT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoL1xcZFxccyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZFxccyQvLCAnJykpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgvXFxzXFxkPyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKHZhbHVlLnJlcGxhY2UoL1xcZCQvLCAnJykpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJlRm9ybWF0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIHZhbHVlID0gJHRhcmdldC52YWwoKTtcbiAgICAgIHZhbHVlID0gcmVwbGFjZUZ1bGxXaWR0aENoYXJzKHZhbHVlKTtcbiAgICAgIHZhbHVlID0gJC5wYXltZW50LmZvcm1hdEV4cGlyeSh2YWx1ZSk7XG4gICAgICByZXR1cm4gc2FmZVZhbCh2YWx1ZSwgJHRhcmdldCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9ybWF0RXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBkaWdpdCwgdmFsO1xuICAgIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsID0gJHRhcmdldC52YWwoKSArIGRpZ2l0O1xuICAgIGlmICgvXlxcZCQvLnRlc3QodmFsKSAmJiAodmFsICE9PSAnMCcgJiYgdmFsICE9PSAnMScpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQudmFsKFwiMFwiICsgdmFsICsgXCIgLyBcIik7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKC9eXFxkXFxkJC8udGVzdCh2YWwpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG0xLCBtMjtcbiAgICAgICAgbTEgPSBwYXJzZUludCh2YWxbMF0sIDEwKTtcbiAgICAgICAgbTIgPSBwYXJzZUludCh2YWxbMV0sIDEwKTtcbiAgICAgICAgaWYgKG0yID4gMiAmJiBtMSAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiAkdGFyZ2V0LnZhbChcIjBcIiArIG0xICsgXCIgLyBcIiArIG0yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsICsgXCIgLyBcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBmb3JtYXRGb3J3YXJkRXhwaXJ5ID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBkaWdpdCwgdmFsO1xuICAgIGRpZ2l0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QoZGlnaXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsID0gJHRhcmdldC52YWwoKTtcbiAgICBpZiAoL15cXGRcXGQkLy50ZXN0KHZhbCkpIHtcbiAgICAgIHJldHVybiAkdGFyZ2V0LnZhbCh2YWwgKyBcIiAvIFwiKTtcbiAgICB9XG4gIH07XG5cbiAgZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0YXJnZXQsIHZhbCwgd2hpY2g7XG4gICAgd2hpY2ggPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIGlmICghKHdoaWNoID09PSAnLycgfHwgd2hpY2ggPT09ICcgJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICB2YWwgPSAkdGFyZ2V0LnZhbCgpO1xuICAgIGlmICgvXlxcZCQvLnRlc3QodmFsKSAmJiB2YWwgIT09ICcwJykge1xuICAgICAgcmV0dXJuICR0YXJnZXQudmFsKFwiMFwiICsgdmFsICsgXCIgLyBcIik7XG4gICAgfVxuICB9O1xuXG4gIGZvcm1hdEJhY2tFeHBpcnkgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0YXJnZXQsIHZhbHVlO1xuICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgIGlmIChlLndoaWNoICE9PSA4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgoJHRhcmdldC5wcm9wKCdzZWxlY3Rpb25TdGFydCcpICE9IG51bGwpICYmICR0YXJnZXQucHJvcCgnc2VsZWN0aW9uU3RhcnQnKSAhPT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgvXFxkXFxzXFwvXFxzJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJHRhcmdldC52YWwodmFsdWUucmVwbGFjZSgvXFxkXFxzXFwvXFxzJC8sICcnKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcmVGb3JtYXRDVkMgPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJHRhcmdldCwgdmFsdWU7XG4gICAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgdmFsdWUgPSAkdGFyZ2V0LnZhbCgpO1xuICAgICAgdmFsdWUgPSByZXBsYWNlRnVsbFdpZHRoQ2hhcnModmFsdWUpO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpLnNsaWNlKDAsIDQpO1xuICAgICAgcmV0dXJuIHNhZmVWYWwodmFsdWUsICR0YXJnZXQpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlc3RyaWN0TnVtZXJpYyA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgaW5wdXQ7XG4gICAgaWYgKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZS53aGljaCA9PT0gMzIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGUud2hpY2ggPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZS53aGljaCA8IDMzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaW5wdXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIHJldHVybiAhIS9bXFxkXFxzXS8udGVzdChpbnB1dCk7XG4gIH07XG5cbiAgcmVzdHJpY3RDYXJkTnVtYmVyID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBjYXJkLCBkaWdpdCwgdmFsdWU7XG4gICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaGFzVGV4dFNlbGVjdGVkKCR0YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhbHVlID0gKCR0YXJnZXQudmFsKCkgKyBkaWdpdCkucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICBjYXJkID0gY2FyZEZyb21OdW1iZXIodmFsdWUpO1xuICAgIGlmIChjYXJkKSB7XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IDE2O1xuICAgIH1cbiAgfTtcblxuICByZXN0cmljdEV4cGlyeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgJHRhcmdldCwgZGlnaXQsIHZhbHVlO1xuICAgICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgZGlnaXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xuICAgIGlmICghL15cXGQrJC8udGVzdChkaWdpdCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGhhc1RleHRTZWxlY3RlZCgkdGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YWx1ZSA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IDYpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgcmVzdHJpY3RDVkMgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyICR0YXJnZXQsIGRpZ2l0LCB2YWw7XG4gICAgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBkaWdpdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGRpZ2l0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaGFzVGV4dFNlbGVjdGVkKCR0YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhbCA9ICR0YXJnZXQudmFsKCkgKyBkaWdpdDtcbiAgICByZXR1cm4gdmFsLmxlbmd0aCA8PSA0O1xuICB9O1xuXG4gIHNldENhcmRUeXBlID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciAkdGFyZ2V0LCBhbGxUeXBlcywgY2FyZCwgY2FyZFR5cGUsIHZhbDtcbiAgICAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhbCA9ICR0YXJnZXQudmFsKCk7XG4gICAgY2FyZFR5cGUgPSAkLnBheW1lbnQuY2FyZFR5cGUodmFsKSB8fCAndW5rbm93bic7XG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKGNhcmRUeXBlKSkge1xuICAgICAgYWxsVHlwZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpLCBsZW4sIHJlc3VsdHM7XG4gICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gY2FyZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjYXJkID0gY2FyZHNbaV07XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGNhcmQudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICB9KSgpO1xuICAgICAgJHRhcmdldC5yZW1vdmVDbGFzcygndW5rbm93bicpO1xuICAgICAgJHRhcmdldC5yZW1vdmVDbGFzcyhhbGxUeXBlcy5qb2luKCcgJykpO1xuICAgICAgJHRhcmdldC5hZGRDbGFzcyhjYXJkVHlwZSk7XG4gICAgICAkdGFyZ2V0LnRvZ2dsZUNsYXNzKCdpZGVudGlmaWVkJywgY2FyZFR5cGUgIT09ICd1bmtub3duJyk7XG4gICAgICByZXR1cm4gJHRhcmdldC50cmlnZ2VyKCdwYXltZW50LmNhcmRUeXBlJywgY2FyZFR5cGUpO1xuICAgIH1cbiAgfTtcblxuICAkLnBheW1lbnQuZm4uZm9ybWF0Q2FyZENWQyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3ROdW1lcmljKTtcbiAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0Q1ZDKTtcbiAgICB0aGlzLm9uKCdwYXN0ZScsIHJlRm9ybWF0Q1ZDKTtcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCByZUZvcm1hdENWQyk7XG4gICAgdGhpcy5vbignaW5wdXQnLCByZUZvcm1hdENWQyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgJC5wYXltZW50LmZuLmZvcm1hdENhcmRFeHBpcnkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0TnVtZXJpYyk7XG4gICAgdGhpcy5vbigna2V5cHJlc3MnLCByZXN0cmljdEV4cGlyeSk7XG4gICAgdGhpcy5vbigna2V5cHJlc3MnLCBmb3JtYXRFeHBpcnkpO1xuICAgIHRoaXMub24oJ2tleXByZXNzJywgZm9ybWF0Rm9yd2FyZFNsYXNoQW5kU3BhY2UpO1xuICAgIHRoaXMub24oJ2tleXByZXNzJywgZm9ybWF0Rm9yd2FyZEV4cGlyeSk7XG4gICAgdGhpcy5vbigna2V5ZG93bicsIGZvcm1hdEJhY2tFeHBpcnkpO1xuICAgIHRoaXMub24oJ2NoYW5nZScsIHJlRm9ybWF0RXhwaXJ5KTtcbiAgICB0aGlzLm9uKCdpbnB1dCcsIHJlRm9ybWF0RXhwaXJ5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLnBheW1lbnQuZm4uZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub24oJ2tleXByZXNzJywgcmVzdHJpY3ROdW1lcmljKTtcbiAgICB0aGlzLm9uKCdrZXlwcmVzcycsIHJlc3RyaWN0Q2FyZE51bWJlcik7XG4gICAgdGhpcy5vbigna2V5cHJlc3MnLCBmb3JtYXRDYXJkTnVtYmVyKTtcbiAgICB0aGlzLm9uKCdrZXlkb3duJywgZm9ybWF0QmFja0NhcmROdW1iZXIpO1xuICAgIHRoaXMub24oJ2tleXVwJywgc2V0Q2FyZFR5cGUpO1xuICAgIHRoaXMub24oJ3Bhc3RlJywgcmVGb3JtYXRDYXJkTnVtYmVyKTtcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCByZUZvcm1hdENhcmROdW1iZXIpO1xuICAgIHRoaXMub24oJ2lucHV0JywgcmVGb3JtYXRDYXJkTnVtYmVyKTtcbiAgICB0aGlzLm9uKCdpbnB1dCcsIHNldENhcmRUeXBlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLnBheW1lbnQuZm4ucmVzdHJpY3ROdW1lcmljID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vbigna2V5cHJlc3MnLCByZXN0cmljdE51bWVyaWMpO1xuICAgIHRoaXMub24oJ3Bhc3RlJywgcmVGb3JtYXROdW1lcmljKTtcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCByZUZvcm1hdE51bWVyaWMpO1xuICAgIHRoaXMub24oJ2lucHV0JywgcmVGb3JtYXROdW1lcmljKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLnBheW1lbnQuZm4uY2FyZEV4cGlyeVZhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkLnBheW1lbnQuY2FyZEV4cGlyeVZhbCgkKHRoaXMpLnZhbCgpKTtcbiAgfTtcblxuICAkLnBheW1lbnQuY2FyZEV4cGlyeVZhbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIG1vbnRoLCBwcmVmaXgsIHJlZiwgeWVhcjtcbiAgICByZWYgPSB2YWx1ZS5zcGxpdCgvW1xcc1xcL10rLywgMiksIG1vbnRoID0gcmVmWzBdLCB5ZWFyID0gcmVmWzFdO1xuICAgIGlmICgoeWVhciAhPSBudWxsID8geWVhci5sZW5ndGggOiB2b2lkIDApID09PSAyICYmIC9eXFxkKyQvLnRlc3QoeWVhcikpIHtcbiAgICAgIHByZWZpeCA9IChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHByZWZpeCA9IHByZWZpeC50b1N0cmluZygpLnNsaWNlKDAsIDIpO1xuICAgICAgeWVhciA9IHByZWZpeCArIHllYXI7XG4gICAgfVxuICAgIG1vbnRoID0gcGFyc2VJbnQobW9udGgsIDEwKTtcbiAgICB5ZWFyID0gcGFyc2VJbnQoeWVhciwgMTApO1xuICAgIHJldHVybiB7XG4gICAgICBtb250aDogbW9udGgsXG4gICAgICB5ZWFyOiB5ZWFyXG4gICAgfTtcbiAgfTtcblxuICAkLnBheW1lbnQudmFsaWRhdGVDYXJkTnVtYmVyID0gZnVuY3Rpb24obnVtKSB7XG4gICAgdmFyIGNhcmQsIHJlZjtcbiAgICBudW0gPSAobnVtICsgJycpLnJlcGxhY2UoL1xccyt8LS9nLCAnJyk7XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KG51bSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2FyZCA9IGNhcmRGcm9tTnVtYmVyKG51bSk7XG4gICAgaWYgKCFjYXJkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAocmVmID0gbnVtLmxlbmd0aCwgaW5kZXhPZi5jYWxsKGNhcmQubGVuZ3RoLCByZWYpID49IDApICYmIChjYXJkLmx1aG4gPT09IGZhbHNlIHx8IGx1aG5DaGVjayhudW0pKTtcbiAgfTtcblxuICAkLnBheW1lbnQudmFsaWRhdGVDYXJkRXhwaXJ5ID0gZnVuY3Rpb24obW9udGgsIHllYXIpIHtcbiAgICB2YXIgY3VycmVudFRpbWUsIGV4cGlyeSwgcmVmO1xuICAgIGlmICh0eXBlb2YgbW9udGggPT09ICdvYmplY3QnICYmICdtb250aCcgaW4gbW9udGgpIHtcbiAgICAgIHJlZiA9IG1vbnRoLCBtb250aCA9IHJlZi5tb250aCwgeWVhciA9IHJlZi55ZWFyO1xuICAgIH1cbiAgICBpZiAoIShtb250aCAmJiB5ZWFyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBtb250aCA9ICQudHJpbShtb250aCk7XG4gICAgeWVhciA9ICQudHJpbSh5ZWFyKTtcbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QobW9udGgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghL15cXGQrJC8udGVzdCh5ZWFyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoISgoMSA8PSBtb250aCAmJiBtb250aCA8PSAxMikpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh5ZWFyLmxlbmd0aCA9PT0gMikge1xuICAgICAgaWYgKHllYXIgPCA3MCkge1xuICAgICAgICB5ZWFyID0gXCIyMFwiICsgeWVhcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHllYXIgPSBcIjE5XCIgKyB5ZWFyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeWVhci5sZW5ndGggIT09IDQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZXhwaXJ5ID0gbmV3IERhdGUoeWVhciwgbW9udGgpO1xuICAgIGN1cnJlbnRUaW1lID0gbmV3IERhdGU7XG4gICAgZXhwaXJ5LnNldE1vbnRoKGV4cGlyeS5nZXRNb250aCgpIC0gMSk7XG4gICAgZXhwaXJ5LnNldE1vbnRoKGV4cGlyeS5nZXRNb250aCgpICsgMSwgMSk7XG4gICAgcmV0dXJuIGV4cGlyeSA+IGN1cnJlbnRUaW1lO1xuICB9O1xuXG4gICQucGF5bWVudC52YWxpZGF0ZUNhcmRDVkMgPSBmdW5jdGlvbihjdmMsIHR5cGUpIHtcbiAgICB2YXIgY2FyZCwgcmVmO1xuICAgIGN2YyA9ICQudHJpbShjdmMpO1xuICAgIGlmICghL15cXGQrJC8udGVzdChjdmMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhcmQgPSBjYXJkRnJvbVR5cGUodHlwZSk7XG4gICAgaWYgKGNhcmQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHJlZiA9IGN2Yy5sZW5ndGgsIGluZGV4T2YuY2FsbChjYXJkLmN2Y0xlbmd0aCwgcmVmKSA+PSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3ZjLmxlbmd0aCA+PSAzICYmIGN2Yy5sZW5ndGggPD0gNDtcbiAgICB9XG4gIH07XG5cbiAgJC5wYXltZW50LmNhcmRUeXBlID0gZnVuY3Rpb24obnVtKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoIW51bSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoKHJlZiA9IGNhcmRGcm9tTnVtYmVyKG51bSkpICE9IG51bGwgPyByZWYudHlwZSA6IHZvaWQgMCkgfHwgbnVsbDtcbiAgfTtcblxuICAkLnBheW1lbnQuZm9ybWF0Q2FyZE51bWJlciA9IGZ1bmN0aW9uKG51bSkge1xuICAgIHZhciBjYXJkLCBncm91cHMsIHJlZiwgdXBwZXJMZW5ndGg7XG4gICAgbnVtID0gbnVtLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgY2FyZCA9IGNhcmRGcm9tTnVtYmVyKG51bSk7XG4gICAgaWYgKCFjYXJkKSB7XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICB1cHBlckxlbmd0aCA9IGNhcmQubGVuZ3RoW2NhcmQubGVuZ3RoLmxlbmd0aCAtIDFdO1xuICAgIG51bSA9IG51bS5zbGljZSgwLCB1cHBlckxlbmd0aCk7XG4gICAgaWYgKGNhcmQuZm9ybWF0Lmdsb2JhbCkge1xuICAgICAgcmV0dXJuIChyZWYgPSBudW0ubWF0Y2goY2FyZC5mb3JtYXQpKSAhPSBudWxsID8gcmVmLmpvaW4oJyAnKSA6IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgZ3JvdXBzID0gY2FyZC5mb3JtYXQuZXhlYyhudW0pO1xuICAgICAgaWYgKGdyb3VwcyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGdyb3Vwcy5zaGlmdCgpO1xuICAgICAgZ3JvdXBzID0gJC5ncmVwKGdyb3VwcywgZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdyb3Vwcy5qb2luKCcgJyk7XG4gICAgfVxuICB9O1xuXG4gICQucGF5bWVudC5mb3JtYXRFeHBpcnkgPSBmdW5jdGlvbihleHBpcnkpIHtcbiAgICB2YXIgbW9uLCBwYXJ0cywgc2VwLCB5ZWFyO1xuICAgIHBhcnRzID0gZXhwaXJ5Lm1hdGNoKC9eXFxEKihcXGR7MSwyfSkoXFxEKyk/KFxcZHsxLDR9KT8vKTtcbiAgICBpZiAoIXBhcnRzKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIG1vbiA9IHBhcnRzWzFdIHx8ICcnO1xuICAgIHNlcCA9IHBhcnRzWzJdIHx8ICcnO1xuICAgIHllYXIgPSBwYXJ0c1szXSB8fCAnJztcbiAgICBpZiAoeWVhci5sZW5ndGggPiAwKSB7XG4gICAgICBzZXAgPSAnIC8gJztcbiAgICB9IGVsc2UgaWYgKHNlcCA9PT0gJyAvJykge1xuICAgICAgbW9uID0gbW9uLnN1YnN0cmluZygwLCAxKTtcbiAgICAgIHNlcCA9ICcnO1xuICAgIH0gZWxzZSBpZiAobW9uLmxlbmd0aCA9PT0gMiB8fCBzZXAubGVuZ3RoID4gMCkge1xuICAgICAgc2VwID0gJyAvICc7XG4gICAgfSBlbHNlIGlmIChtb24ubGVuZ3RoID09PSAxICYmIChtb24gIT09ICcwJyAmJiBtb24gIT09ICcxJykpIHtcbiAgICAgIG1vbiA9IFwiMFwiICsgbW9uO1xuICAgICAgc2VwID0gJyAvICc7XG4gICAgfVxuICAgIHJldHVybiBtb24gKyBzZXAgKyB5ZWFyO1xuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gIHZhciBob21lRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaG9tZScpO1xuICB2YXIgcG9zdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Bvc3QnKTtcbiAgdmFyIGJsb2dEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdibG9nJyk7XG4gIHZhciBob21lTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xpbmstaG9tZScpO1xuICB2YXIgYmxvZ0xpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsaW5rLWJsb2cnKTtcblxuICAvLyBjb25zb2xlLmxvZyhob21lRGl2KTtcbiAgLy8gY29uc29sZS5sb2coaG9tZUxpbmspO1xuICBpZiAoaG9tZURpdlswXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaG9tZUxpbmtbMF0uY2xhc3NMaXN0LmFkZCgnbGluay1hY3RpdmUnKTtcbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKHBvc3REaXYpO1xuICAvLyBjb25zb2xlLmxvZyhibG9nTGluayk7XG4gIGVsc2UgaWYgKHBvc3REaXZbMF0gIT09IHVuZGVmaW5lZCB8fCBibG9nRGl2WzBdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGJsb2dMaW5rWzBdLmNsYXNzTGlzdC5hZGQoJ2xpbmstYWN0aXZlJyk7XG4gICAgfVxufSkoKTsiLCIndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgLy8gZm9ybWF0IGNhcmQgZm9ybSBpbnB1dHNcbiAgJCgnLmNjLW51bS1pbnB1dCcpLnBheW1lbnQoJ2Zvcm1hdENhcmROdW1iZXInKTtcbiAgJCgnLmNjLWV4cC1pbnB1dCcpLnBheW1lbnQoJ2Zvcm1hdENhcmRFeHBpcnknKTtcbiAgJCgnLmNjLWN2Yy1pbnB1dCcpLnBheW1lbnQoJ2Zvcm1hdENhcmRDVkMnKTtcblxuICAvL1xuICAvLyBnZW5lcmFsIGhlbHBlcnM6XG4gIC8vXG5cbiAgLy8gYWRkIGVycm9yIGNzcyBjbGFzc1xuICBmdW5jdGlvbiBhZGRFcnIoaW5wdXQpIHtcbiAgICAkKGlucHV0KS5yZW1vdmVDbGFzcygnaW5wdXQtc3VjY2VzcycpO1xuICAgICQoaW5wdXQpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xuICB9XG5cbiAgLy8gYWRkIHN1Y2Nlc3MgY3NzIGNsYXNzXG4gIGZ1bmN0aW9uIGFkZE9rKGlucHV0KSB7XG4gICAgJChpbnB1dCkucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XG4gICAgJChpbnB1dCkuYWRkQ2xhc3MoJ2lucHV0LXN1Y2Nlc3MnKTtcbiAgfVxuXG4gIC8vIHNob3cgaW5wdXQgZXJyb3IgaWNvblxuICBmdW5jdGlvbiBzaG93SW5wdXRFcnJJY29uKGlucHV0LCBpY29uU3VjLCBpY29uRXJyKSB7XG4gICAgaWYgKCQoaW5wdXQpLmhhc0NsYXNzKCdpbnB1dC1lcnJvcicpKSB7XG4gICAgICAkKGljb25TdWMpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICQoaWNvbkVycikucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNob3cgaW5wdXQgc3VjY2VzcyBpY29uXG4gIGZ1bmN0aW9uIHNob3dJbnB1dE9rSWNvbihpbnB1dCwgaWNvblN1YywgaWNvbkVycikge1xuICAgIGlmICgkKGlucHV0KS5oYXNDbGFzcygnaW5wdXQtc3VjY2VzcycpKSB7XG4gICAgICAkKGljb25TdWMpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICQoaWNvbkVycikuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHJlc2V0IGlucHV0IGljb25zXG4gIGZ1bmN0aW9uIHJlc2V0SW5wdXQoaW5wdXQsIGljb25TdWMsIGljb25FcnIpIHtcbiAgICAkKGlucHV0KS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcbiAgICAkKGljb25TdWMpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkKGljb25FcnIpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkKGlucHV0KS5yZW1vdmVDbGFzcygnaW5wdXQtc3VjY2VzcycpO1xuICB9XG5cbiAgLy8gY2FyZCBudW1iZXIgY3NzIGNsYXNzZXMgc2V0dGluZ1xuICB2YXIgY2FyZE51bSA9IHtcbiAgICBpbnB1dDogJy5jYy1udW0taW5wdXQnLFxuICAgIHR5cGU6ICcuY2MtdHlwZScsXG4gICAgaWNvbk9rOiAnLmNjLW51bS1pY29uLXN1Y2Nlc3MnLFxuICAgIGljb25FcnI6ICcuY2MtbnVtLWljb24tZXJyb3InXG4gIH07XG4gIC8vXG4gIC8vIGNoZWNrIHN0dWZmXG4gIC8vXG5cbiAgLy8gY2hlY2sgQ0FSRCBOVU1CRVJcbiAgKGZ1bmN0aW9uIGNoZWNrQ2FyZE51bSgpIHtcblxuICAgIC8vIGhpZ2hsaWdodCBzZWxlY3RlZCBjYXJkIHR5cGUgKGJyYW5kKVxuICAgIGZ1bmN0aW9uIG1hcmtDYXJkVHlwZShuYW1lKSB7XG4gICAgICBpZiAoJChjYXJkTnVtLmlucHV0KS5oYXNDbGFzcyhuYW1lKSkge1xuICAgICAgICAkKGNhcmROdW0udHlwZSArICcuJyArIG5hbWUpLmFkZENsYXNzKCd0eHQtaGlnaGxpZ2h0Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVzZXQgY2FyZCB0eXBlIGhpZ2hsaWdodFxuICAgIGZ1bmN0aW9uIHJlc2V0Q2FyZFR5cGUoKSB7XG4gICAgICAkKGNhcmROdW0udHlwZSkucmVtb3ZlQ2xhc3MoJ3R4dC1oaWdobGlnaHQnKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBjYXJkIG51bWJlciBpbnB1dFxuICAgIGZ1bmN0aW9uIHZhbGlkQ2FyZE51bSgpIHtcblxuICAgICAgLy8gZ2V0IGNhcmQgbnVtYmVyXG4gICAgICB2YXIgY2FyZFZhbHVlID0gJChjYXJkTnVtLmlucHV0KS52YWwoKTtcblxuICAgICAgLy8gdmFsaWRhdGUgY2FyZCBudW1iZXJcbiAgICAgIHZhciBjYXJkVmFsaWQgPSAkLnBheW1lbnQudmFsaWRhdGVDYXJkTnVtYmVyKGNhcmRWYWx1ZSk7XG5cbiAgICAgIC8vIGFkZCBwcm9wZXIgaW5kaWNhdG9ycyB0byB2YWxpZC9pbnZhbGlkIG51bWJlclxuICAgICAgaWYgKGNhcmRWYWxpZCA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRPayhjYXJkTnVtLmlucHV0KTtcbiAgICAgICAgc2hvd0lucHV0T2tJY29uKGNhcmROdW0uaW5wdXQsIGNhcmROdW0uaWNvbk9rLCBjYXJkTnVtLmljb25FcnIpO1xuICAgICAgfVxuICAgICAgaWYgKGNhcmRWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgYWRkRXJyKGNhcmROdW0uaW5wdXQpO1xuICAgICAgICBzaG93SW5wdXRFcnJJY29uKGNhcmROdW0uaW5wdXQsIGNhcmROdW0uaWNvbk9rLCBjYXJkTnVtLmljb25FcnIpO1xuICAgICAgfVxuICAgICAgLy8gY29uc29sZS5sb2coY2FyZFZhbGlkKTtcbiAgICB9XG5cbiAgICAvLyBsaXN0ZW4gdG8gY2FyZCBudW1iZXIgaW5wdXRcbiAgICAkKGNhcmROdW0uaW5wdXQpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy8gd2hlbiBpbnB1dCBpcyBsb25nIGVub3VnaC4uLlxuICAgICAgaWYgKCQodGhpcykudmFsKCkubGVuZ3RoID4gMSkge1xuXG4gICAgICAgIC8vIGhpZ2hsaWdodCBwcm9wZXIgY2FyZCB0eXBlIG5hbWVcbiAgICAgICAgcmVzZXRDYXJkVHlwZSgpO1xuICAgICAgICBtYXJrQ2FyZFR5cGUoJ3Zpc2EnKTtcbiAgICAgICAgbWFya0NhcmRUeXBlKCdtYXN0ZXJjYXJkJyk7XG4gICAgICAgIG1hcmtDYXJkVHlwZSgnYW1leCcpO1xuICAgICAgICBtYXJrQ2FyZFR5cGUoJ2Rpc2NvdmVyJyk7XG5cbiAgICAgICAgLy8gdmFsaWRhdGUgbnVtYmVyIGFjY29yZGluZyB0byBzdGF0ZW1lbnRzXG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhbWV4JykgJiYgJCh0aGlzKS52YWwoKS5sZW5ndGggPT09IDE3KSB7XG4gICAgICAgICAgdmFsaWRDYXJkTnVtKCk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJCh0aGlzKS52YWwoKS5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2lkZW50aWZpZWQnKSAmJiAkKHRoaXMpLnZhbCgpLmxlbmd0aCA9PT0gMTkpIHtcbiAgICAgICAgICB2YWxpZENhcmROdW0oKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKHRoaXMpLnZhbCgpLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBpbnB1dCBpbmRpY2F0b3JzIGFjY29yZGluZyB0byBzdGF0ZW1lbnRzXG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhbWV4JykgJiYgJCh0aGlzKS52YWwoKS5sZW5ndGggPCAxNykge1xuICAgICAgICAgIHJlc2V0SW5wdXQodGhpcywgY2FyZE51bS5pY29uT2ssIGNhcmROdW0uaWNvbkVycik7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJCh0aGlzKS52YWwoKS5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2FtZXgnKSA9PT0gZmFsc2UgJiYgJCh0aGlzKS52YWwoKS5sZW5ndGggPCAxOSkge1xuICAgICAgICAgIHJlc2V0SW5wdXQodGhpcywgY2FyZE51bS5pY29uT2ssIGNhcmROdW0uaWNvbkVycik7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJCh0aGlzKS52YWwoKS5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvdyBlcnJvciBpZiB1bmtub3duXG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCd1bmtub3duJykpIHtcbiAgICAgICAgICBhZGRFcnIodGhpcyk7XG4gICAgICAgICAgc2hvd0lucHV0RXJySWNvbih0aGlzLCBjYXJkTnVtLmljb25PaywgY2FyZE51bS5pY29uRXJyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzZXRJbnB1dCh0aGlzLCBjYXJkTnVtLmljb25PaywgY2FyZE51bS5pY29uRXJyKTtcbiAgICAgICAgcmVzZXRDYXJkVHlwZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KSgpO1xuXG4gIChmdW5jdGlvbiBjaGVja0V4cERhdGUoKSB7XG5cbiAgICAvLyBjYXJkIGV4cGlyeSBudW1iZXIgY3NzIGNsYXNzZXMgc2V0dGluZ1xuICAgIHZhciBjYXJkRXhwID0ge1xuICAgICAgaW5wdXQ6ICcuY2MtZXhwLWlucHV0JyxcbiAgICAgIGljb25PazogJy5jYy1leHAtaWNvbi1zdWNjZXNzJyxcbiAgICAgIGljb25FcnI6ICcuY2MtZXhwLWljb24tZXJyb3InXG4gICAgfTtcblxuICAgIC8vIHZhbGlkYXRlIG51bWJlclxuICAgIGZ1bmN0aW9uIHZhbGlkRXhwKCkge1xuXG4gICAgICB2YXIgZXhwRGF0ZSA9ICQoY2FyZEV4cC5pbnB1dCkucGF5bWVudCgnY2FyZEV4cGlyeVZhbCcpO1xuICAgICAgdmFyIGV4cFZhbGlkID0gJC5wYXltZW50LnZhbGlkYXRlQ2FyZEV4cGlyeShleHBEYXRlLm1vbnRoLCBleHBEYXRlLnllYXIpO1xuXG4gICAgICAvLyBhZGQgcHJvcGVyIGluZGljYXRvcnMgdG8gdmFsaWQvaW52YWxpZCBudW1iZXJcbiAgICAgIGlmIChleHBWYWxpZCA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRPayhjYXJkRXhwLmlucHV0KTtcbiAgICAgICAgc2hvd0lucHV0T2tJY29uKGNhcmRFeHAuaW5wdXQsIGNhcmRFeHAuaWNvbk9rLCBjYXJkRXhwLmljb25FcnIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXhwVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGFkZEVycihjYXJkRXhwLmlucHV0KTtcbiAgICAgICAgc2hvd0lucHV0RXJySWNvbihjYXJkRXhwLmlucHV0LCBjYXJkRXhwLmljb25PaywgY2FyZEV4cC5pY29uRXJyKTtcbiAgICAgIH1cbiAgICAgIC8vIGNvbnNvbGUubG9nKGV4cFZhbGlkKTtcbiAgICB9XG5cbiAgICAvLyBsaXN0ZW4gdG8gaW5wdXRcbiAgICAkKGNhcmRFeHAuaW5wdXQpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy8gdmFsaWRhdGUgbnVtYmVyIHdoZW4gaXQncyBsb25nIGVub3VnaFxuICAgICAgaWYgKCQodGhpcykudmFsKCkubGVuZ3RoID09PSA3IHx8ICQodGhpcykudmFsKCkubGVuZ3RoID09PSA5KSB7XG4gICAgICAgIHZhbGlkRXhwKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIG90aGVyd2lzZSwgcmVzZXQgaW5kaWNhdG9yc1xuICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVzZXRJbnB1dCh0aGlzLCBjYXJkRXhwLmljb25PaywgY2FyZEV4cC5pY29uRXJyKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICB9KSgpO1xuXG4gIChmdW5jdGlvbiBjdmNDaGVjaygpIHtcblxuICAgIHZhciBjYXJkQ1ZDID0ge1xuICAgICAgaW5wdXQ6ICcuY2MtY3ZjLWlucHV0JyxcbiAgICAgIGljb25PazogJy5jYy1jdmMtaWNvbi1zdWNjZXNzJyxcbiAgICAgIGljb25FcnI6ICcuY2MtY3ZjLWljb24tZXJyb3InXG4gICAgfTtcblxuICAgIC8vIHZhbGlkYXRlIG51bWJlclxuICAgIGZ1bmN0aW9uIGN2Y0NoZWNrKGlucHV0KSB7XG4gICAgICB2YXIgY3ZjTnVtID0gJChjYXJkQ1ZDLmlucHV0KS52YWwoKTtcbiAgICAgIHZhciBjdmNWYWxpZCA9ICQucGF5bWVudC52YWxpZGF0ZUNhcmRDVkMoY3ZjTnVtKTtcblxuICAgICAgLy8gYWRkIHByb3BlciBpbmRpY2F0b3JzIHRvIHZhbGlkL2ludmFsaWQgbnVtYmVyXG5cbiAgICAgIGlmIChjdmNWYWxpZCA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRPayhjYXJkQ1ZDLmlucHV0KTtcbiAgICAgICAgc2hvd0lucHV0T2tJY29uKGNhcmRDVkMuaW5wdXQsIGNhcmRDVkMuaWNvbk9rLCBjYXJkQ1ZDLmljb25FcnIpO1xuICAgICAgfVxuICAgICAgaWYgKGN2Y1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICBhZGRFcnIoY2FyZENWQy5pbnB1dCk7XG4gICAgICAgIHNob3dJbnB1dEVyckljb24oY2FyZENWQy5pbnB1dCwgY2FyZENWQy5pY29uT2ssIGNhcmRDVkMuaWNvbkVycik7XG4gICAgICB9XG4gICAgICAvLyBjb25zb2xlLmxvZyhjdmNWYWxpZCk7XG4gICAgfVxuXG4gICAgLy8gbGlzdGVuIHRvIGlucHV0XG4gICAgJChjYXJkQ1ZDLmlucHV0KS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIC8vIHZhbGlkYXRlIG51bWJlciB3aGVuIGl0J3MgbG9uZyBlbm91Z2hcbiAgICAgIGlmICgkKGNhcmROdW0uaW5wdXQpLmhhc0NsYXNzKCdhbWV4JykpIHtcbiAgICAgICAgaWYgKCQoY2FyZENWQy5pbnB1dCkudmFsKCkubGVuZ3RoID4gMykge1xuICAgICAgICAgIGN2Y0NoZWNrKHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc2V0SW5wdXQodGhpcywgY2FyZENWQy5pY29uT2ssIGNhcmRDVkMuaWNvbkVycik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS52YWwoKS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgY3ZjQ2hlY2sodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIG90aGVyd2lzZSwgcmVzZXQgaW5kaWNhdG9yc1xuICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVzZXRJbnB1dCh0aGlzLCBjYXJkQ1ZDLmljb25PaywgY2FyZENWQy5pY29uRXJyKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICB9KSgpO1xufSkoKTsiLCJcInVzZSBzdHJpY3RcIjsiLCIndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGhvbWVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdob21lJyk7XG4gIHZhciBwb3N0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG9zdCcpO1xuICB2YXIgYmxvZ0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Jsb2cnKTtcbiAgdmFyIGhvbWVMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGluay1ob21lJyk7XG4gIHZhciBibG9nTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xpbmstYmxvZycpO1xuXG4gIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL2lmIChob21lRGl2WzBdICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyAgaG9tZUxpbmtbMF0uY2xhc3NMaXN0LmFkZChcImxpbmstYWN0aXZlXCIpO1xuICAgIC8vfVxuXG4gICAgaWYgKHBvc3REaXZbMF0gIT09IHVuZGVmaW5lZCB8fCBibG9nRGl2WzBdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGJsb2dMaW5rWzBdLmNsYXNzTGlzdC5hZGQoJ2xpbmstYWN0aXZlJyk7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKGhvbWVEaXYpOyBjb25zb2xlLmxvZyhob21lTGluayk7XG4gICAgLy8gY29uc29sZS5sb2cocG9zdERpdik7IGNvbnNvbGUubG9nKGJsb2dMaW5rKTtcbiAgfTtcbn0pKCk7IiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gIHZhciBzd2l0Y2hFbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpcy1zd2l0Y2hhYmxlJyk7XG5cbiAgdmFyIHN3aXRjaEFyciA9IFtdLnNsaWNlLmNhbGwoc3dpdGNoRWxzKTtcblxuICBmdW5jdGlvbiBhZGRMaXN0ZW5lcihlbCkge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtb24nKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN3aXRjaEFyci5mb3JFYWNoKGFkZExpc3RlbmVyKTtcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
