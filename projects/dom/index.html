---
layout: post 
title: DOM Manipulation with Vanilla JavaScript
---

<p>
A guide to DOM manipulation.
No frameworks and libraries.
Pure JavaScript.
Starting simple, ending fancy.
</p>

<h2>Your First Simple Element</h2>

<p>There are two basic steps in creating a new DOM element.</p>  
  
  <ol>
    <li>Creating an HTML element (DOM node): <br>
      <code>const newElement = document.createElement("div")</code> </li>
    <li>Appending it to an end of another, already existing element: <br>
      <code>existingElement.appendChild(newElement)</code> </li>
  </ol>

  <p>Lets do some experiment. Here's a sandbox&mdash;a DIV where
  I'll add some new stuff:<p>

  <div  class="sandbox">
  </div>

  <h3>Lets add a button:</h3>
{% highlight js %}


{% endhighlight %}


{% highlight js %}
const sandbox1 = document.getElementById("dom-sandbox-1");
const btn1 = document.createElement("button");
sandbox1.appendChild(btn1);
{% endhighlight %} 

  <div id="dom-sandbox-1" class="sandbox">
  </div>

  <p>An empty button is not very useful. We Need Some Text:</p>

{% highlight js %}
const sandbox2 = document.getElementById("dom-sandbox-2");
const btn2 = document.createElement("button");
const textBtn2 = document.createTextNode("I'm Clickable");
btn2.appendChild(textBtn2);
sandbox2.appendChild(btn2);
{% endhighlight %} 

<div id="dom-sandbox-2" class="sandbox">
</div>

<p>Notice that “createTextNode”, “createElement” and “getElementById” are
following the same pattern.</p>

<h2>
Adding Groups of Elements
</h2>

<p>
By using a document fragment
&mdash;<code>document.createDocumentFragment()</code>&mdash;
you can create a group of elements. 
It will happen in memory, outside of the DOM tree.
That might be good for performance.
</p> 

<p>
You'll be able to show the whole group using single
<code>append</code> operation.
</p>

<h3>First, Simple Group</h3>
{% highlight js %}
const sandbox3 = document.getElementById("dom-sandbox-3");
const fragment = document.createDocumentFragment();

// css classes that select icons
const iconClasses = ["ion-paper-airplane",
                     "ion-plane",
                     "ion-jet"]

iconClasses.forEach(function(el) {
  let span = document.createElement("span")
  span.classList.add("icon", el);
  fragment.appendChild(span);
})

sandbox3.appendChild(fragment);

{% endhighlight %} 

<div id="dom-sandbox-3" class="sandbox">
</div>


<h3>What About More than One Data Set</h3>

{% highlight js %}
const sandbox4 = document.getElementById("dom-sandbox-4");
const fragmentBig = document.createDocumentFragment();

const skySet = ["ion-paper-airplane",
                "ion-plane",
                "ion-jet"];
const roadSet = ["ion-android-bicycle",
                 "ion-android-car",
                 "ion-android-bus"];

const skyDiv = document.createElement("div");
const roadDiv = document.createElement("div");

skySet.forEach(function(el) {
  let span = document.createElement("span")
  span.classList.add("icon", el, "blue")
  skyDiv.appendChild(span);
})

roadSet.forEach(function(el) {
  let span = document.createElement("span")
  span.classList.add("icon", el, "orange");
  roadDiv.appendChild(span);
})

fragmentBig.appendChild(skyDiv);
fragmentBig.appendChild(roadDiv);
sandbox4.appendChild(fragmentBig);
{% endhighlight %} 

<div id="dom-sandbox-4" class="sandbox">
</div>



<script>

//
// button
//
const sandbox1 = document.getElementById("dom-sandbox-1");
const btn1 = document.createElement("button");
sandbox1.appendChild(btn1);

//---------
const sandbox2 = document.getElementById("dom-sandbox-2");
const btn2 = document.createElement("button");
const textBtn2 = document.createTextNode("I'm Clickable");
btn2.appendChild(textBtn2);
sandbox2.appendChild(btn2);

//
// document fragment
//
const sandbox3 = document.getElementById("dom-sandbox-3");
const fragment = document.createDocumentFragment();
// css classes that select icons
const iconClasses = ["ion-paper-airplane",
                     "ion-plane",
                     "ion-jet"]

iconClasses.forEach(function(el) {
  let span = document.createElement("span")
  span.classList.add("icon", el);
  fragment.appendChild(span);
})

sandbox3.appendChild(fragment);

//------------
const sandbox4 = document.getElementById("dom-sandbox-4");
const fragmentBig = document.createDocumentFragment();

const skySet = ["ion-paper-airplane",
                "ion-plane",
                "ion-jet"];
const roadSet = ["ion-android-bicycle",
                 "ion-android-car",
                 "ion-android-bus"];

const skyDiv = document.createElement("div");
const roadDiv = document.createElement("div");

skySet.forEach(function(el) {
  let span = document.createElement("span")
  span.classList.add("icon", el, "blue")
  skyDiv.appendChild(span);
})

roadSet.forEach(function(el) {
  let span = document.createElement("span")
  span.classList.add("icon", el, "orange");
  roadDiv.appendChild(span);
})

fragmentBig.appendChild(skyDiv);
fragmentBig.appendChild(roadDiv);
sandbox4.appendChild(fragmentBig);

</script>



